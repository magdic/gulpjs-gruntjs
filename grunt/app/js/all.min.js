try{window.FB||function(a){var b,c,d=a,e=a.document,f=a.setTimeout,g=a.setInterval;c=function(a){return a[0]},b=function(a){return a};var h,i;!function(a){var b={},c={},d=["global","require","requireDynamic","requireLazy","module","exports"];h=function(d,e){if(c.hasOwnProperty(d))return c[d];if(!b.hasOwnProperty(d)){if(e)return null;throw new Error("Module "+d+" has not been defined")}for(var f,g=b[d],i=g.deps,j=i.length,k=[],l=0;j>l;l++){switch(i[l]){case"module":f=g;break;case"exports":f=g.exports;break;case"global":f=a;break;case"require":f=h;break;case"requireDynamic":f=h;break;case"requireLazy":f=null;break;default:f=h.call(null,i[l])}k.push(f)}return g.factory.apply(a,k),c[d]=g.exports,g.exports},i=function(a,e,f,g){"function"==typeof f?(b[a]={factory:f,deps:d.concat(e),exports:{}},3===g&&h.call(null,a)):c[a]=f}}(this);var j=function(){return i("ES5ArrayPrototype",[],function(a,b,c,d,e){var f={};f.map=function(a,b){if("function"!=typeof a)throw new TypeError;var c,d=this.length,e=new Array(d);for(c=0;d>c;++c)c in this&&(e[c]=a.call(b,this[c],c,this));return e},f.forEach=function(a,b){f.map.call(this,a,b)},f.filter=function(a,b){if("function"!=typeof a)throw new TypeError;var c,d,e=this.length,f=[];for(c=0;e>c;++c)c in this&&(d=this[c],a.call(b,d,c,this)&&f.push(d));return f},f.every=function(a,b){if("function"!=typeof a)throw new TypeError;for(var c=new Object(this),d=c.length,e=0;d>e;e++)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0},f.some=function(a,b){if("function"!=typeof a)throw new TypeError;for(var c=new Object(this),d=c.length,e=0;d>e;e++)if(e in c&&a.call(b,c[e],e,c))return!0;return!1},f.indexOf=function(a,b){var c=this.length;for(b|=0,0>b&&(b+=c);c>b;b++)if(b in this&&this[b]===a)return b;return-1},e.exports=f}),i("ES5FunctionPrototype",[],function(a,b,c,d,e){var f={};f.bind=function(a){function b(){return c.apply(a,d.concat(Array.prototype.slice.call(arguments)))}if("function"!=typeof this)throw new TypeError("Bind must be called on a function");var c=this,d=Array.prototype.slice.call(arguments,1);return b.displayName="bound:"+(c.displayName||c.name||"(?)"),b.toString=function(){return"bound: "+c},b},e.exports=f}),i("ES5StringPrototype",[],function(a,b,c,d,e){var f={};f.trim=function(){if(null==this)throw new TypeError("String.prototype.trim called on null or undefined");return String.prototype.replace.call(this,/^\s+|\s+$/g,"")},e.exports=f}),i("ES5Array",[],function(a,b,c,d,e){var f={};f.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)},e.exports=f}),i("ES5Object",[],function(a,b,c,d,e){var f={};f.create=function(a){var b=typeof a;if("object"!=b&&"function"!=b)throw new TypeError("Object prototype may only be a Object or null");var c=new Function;return c.prototype=a,new c},f.keys=function(a){var b=typeof a;if("object"!=b&&"function"!=b||null===a)throw new TypeError("Object.keys called on non-object");var c=[];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(d);var e=!{toString:!0}.propertyIsEnumerable("toString"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","prototypeIsEnumerable","constructor"];if(e)for(var g=0;g<f.length;g++){var h=f[g];Object.prototype.hasOwnProperty.call(a,h)&&c.push(h)}return c},e.exports=f}),i("ES5Date",[],function(a,b,c,d,e){var f={};f.now=function(){return(new Date).getTime()},e.exports=f}),i("JSON3",[],function(a,b,c,d,e){(function(){var a,b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w={}.toString,x=e.exports={},y='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',z=new Date(-0xc782b5b800cec);try{z=-109252==z.getUTCFullYear()&&0===z.getUTCMonth()&&1==z.getUTCDate()&&10==z.getUTCHours()&&37==z.getUTCMinutes()&&6==z.getUTCSeconds()&&708==z.getUTCMilliseconds()}catch(A){}if(z||(t=Math.floor,u=[0,31,59,90,120,151,181,212,243,273,304,334],v=function(a,b){return u[b]+365*(a-1970)+t((a-1969+(b=+(b>1)))/4)-t((a-1901+b)/100)+t((a-1601+b)/400)}),"object"==typeof JSON&&JSON&&(x.stringify=JSON.stringify,x.parse=JSON.parse),d="function"==typeof x.stringify&&!v){(z=function(){return 1}).toJSON=z;try{d="0"===x.stringify(0)&&"0"===x.stringify(new Number)&&'""'==x.stringify(new String)&&x.stringify(w)===c&&x.stringify(c)===c&&x.stringify()===c&&"1"===x.stringify(z)&&"[1]"==x.stringify([z])&&"[null]"==x.stringify([c])&&"null"==x.stringify(null)&&"[null,null,null]"==x.stringify([c,w,null])&&x.stringify({result:[z,!0,!1,null,"\x00\b\n\f\r	"]})==y&&"1"===x.stringify(null,z)&&"[\n 1,\n 2\n]"==x.stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==x.stringify(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==x.stringify(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==x.stringify(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==x.stringify(new Date(-1))}catch(A){d=!1}}if("function"==typeof x.parse)try{if(0===x.parse("0")&&!x.parse(!1)&&(z=x.parse(y),j=5==z.A.length&&1==z.A[0])){try{j=!x.parse('"	"')}catch(A){}if(j)try{j=1!=x.parse("01")}catch(A){}}}catch(A){j=!1}z=y=null,d&&j||((a={}.hasOwnProperty)||(a=function(b){var c,d={};return(d.__proto__=null,d.__proto__={toString:1},d).toString!=w?a=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(c=d.constructor,a=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])}),d=null,a.call(this,b)}),b=function(b,c){var d,e,f,g,h=0;(d=function(){this.valueOf=0}).prototype.valueOf=0,e=new d;for(f in e)a.call(e,f)&&h++;return d=e=null,h?g=2==h?function(b,c){var d,e={},f="[object Function]"==w.call(b);for(d in b)f&&"prototype"==d||a.call(e,d)||!(e[d]=1)||!a.call(b,d)||c(d)}:function(b,c){var d,e,f="[object Function]"==w.call(b);for(d in b)f&&"prototype"==d||!a.call(b,d)||(e="constructor"===d)||c(d);(e||a.call(b,d="constructor"))&&c(d)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(b,c){var d,f,g="[object Function]"==w.call(b);for(d in b)g&&"prototype"==d||!a.call(b,d)||c(d);for(f=e.length;d=e[--f];a.call(b,d)&&c(d));}),g(b,c)},d||(f={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},g=function(a,b){return("000000"+(b||0)).slice(-a)},h=function(a){for(var b,c='"',d=0;b=a.charAt(d);d++)c+='\\"\b\f\n\r	'.indexOf(b)>-1?f[b]:" ">b?"\\u00"+g(2,b.charCodeAt(0).toString(16)):b;return c+'"'},i=function(d,e,f,j,k,l,m){var n,o,p,q,r,s,u,x,y,z,A,B,C,D,E,F=e[d];if("object"==typeof F&&F)if(n=w.call(F),"[object Date]"!=n||a.call(F,"toJSON"))"function"==typeof F.toJSON&&("[object Number]"!=n&&"[object String]"!=n&&"[object Array]"!=n||a.call(F,"toJSON"))&&(F=F.toJSON(d));else if(F>-1/0&&1/0>F){if(v){for(q=t(F/864e5),o=t(q/365.2425)+1970-1;v(o+1,0)<=q;o++);for(p=t((q-v(o,0))/30.42);v(o,p+1)<=q;p++);q=1+q-v(o,p),r=(F%864e5+864e5)%864e5,s=t(r/36e5)%24,u=t(r/6e4)%60,x=t(r/1e3)%60,y=r%1e3}else o=F.getUTCFullYear(),p=F.getUTCMonth(),q=F.getUTCDate(),s=F.getUTCHours(),u=F.getUTCMinutes(),x=F.getUTCSeconds(),y=F.getUTCMilliseconds();F=(0>=o||o>=1e4?(0>o?"-":"+")+g(6,0>o?-o:o):g(4,o))+"-"+g(2,p+1)+"-"+g(2,q)+"T"+g(2,s)+":"+g(2,u)+":"+g(2,x)+"."+g(3,y)+"Z"}else F=null;if(f&&(F=f.call(e,d,F)),null===F)return"null";if(n=w.call(F),"[object Boolean]"==n)return""+F;if("[object Number]"==n)return F>-1/0&&1/0>F?""+F:"null";if("[object String]"==n)return h(F);if("object"==typeof F){for(C=m.length;C--;)if(m[C]===F)throw TypeError();if(m.push(F),z=[],D=l,l+=k,"[object Array]"==n){for(B=0,C=F.length;C>B;E||(E=!0),B++)A=i(B,F,f,j,k,l,m),z.push(A===c?"null":A);return E?k?"[\n"+l+z.join(",\n"+l)+"\n"+D+"]":"["+z.join(",")+"]":"[]"}return b(j||F,function(a){var b=i(a,F,f,j,k,l,m);b!==c&&z.push(h(a)+":"+(k?" ":"")+b),E||(E=!0)}),E?k?"{\n"+l+z.join(",\n"+l)+"\n"+D+"}":"{"+z.join(",")+"}":"{}"}},x.stringify=function(a,b,c){var d,e,f,g,h,j;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==w.call(b))e=b;else if("[object Array]"==w.call(b))for(f={},g=0,h=b.length;h>g;j=b[g++],("[object String]"==w.call(j)||"[object Number]"==w.call(j))&&(f[j]=1));if(c)if("[object Number]"==w.call(c)){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else"[object String]"==w.call(c)&&(d=c.length<=10?c:c.slice(0,10));return i("",(j={},j[""]=a,j),e,f,d,"",[])}),j||(k=String.fromCharCode,l={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"	",n:"\n",f:"\f",r:"\r"},m=function(){throw r=s=null,SyntaxError()},n=function(){for(var a,b,c,d,e,f=s,g=f.length;g>r;)if(a=f.charAt(r),"	\r\n ".indexOf(a)>-1)r++;else{if("{}[]:,".indexOf(a)>-1)return r++,a;if('"'==a){for(b="@",r++;g>r;)if(a=f.charAt(r)," ">a)m();else if("\\"==a)if(a=f.charAt(++r),'\\"/btnfr'.indexOf(a)>-1)b+=l[a],r++;else if("u"==a){for(c=++r,d=r+4;d>r;r++)a=f.charAt(r),a>="0"&&"9">=a||a>="a"&&"f">=a||a>="A"&&"F">=a||m();b+=k("0x"+f.slice(c,r))}else m();else{if('"'==a)break;b+=a,r++}if('"'==f.charAt(r))return r++,b;m()}else{if(c=r,"-"==a&&(e=!0,a=f.charAt(++r)),a>="0"&&"9">=a){for("0"==a&&(a=f.charAt(r+1),a>="0"&&"9">=a)&&m(),e=!1;g>r&&(a=f.charAt(r),a>="0"&&"9">=a);r++);if("."==f.charAt(r)){for(d=++r;g>d&&(a=f.charAt(d),a>="0"&&"9">=a);d++);d==r&&m(),r=d}if(a=f.charAt(r),"e"==a||"E"==a){for(a=f.charAt(++r),("+"==a||"-"==a)&&r++,d=r;g>d&&(a=f.charAt(d),a>="0"&&"9">=a);d++);d==r&&m(),r=d}return+f.slice(c,r)}if(e&&m(),"true"==f.slice(r,r+4))return r+=4,!0;if("false"==f.slice(r,r+5))return r+=5,!1;if("null"==f.slice(r,r+4))return r+=4,null;m()}}return"$"},o=function(a){var b,c;if("$"==a&&m(),"string"==typeof a){if("@"==a.charAt(0))return a.slice(1);if("["==a){for(b=[];a=n(),"]"!=a;c||(c=!0))c&&(","==a?(a=n(),"]"==a&&m()):m()),","==a&&m(),b.push(o(a));return b}if("{"==a){for(b={};a=n(),"}"!=a;c||(c=!0))c&&(","==a?(a=n(),"}"==a&&m()):m()),(","==a||"string"!=typeof a||"@"!=a.charAt(0)||":"!=n())&&m(),b[a.slice(1)]=o(n());return b}m()}return a},q=function(a,b,d){var e=p(a,b,d);e===c?delete a[b]:a[b]=e},p=function(a,c,d){var e,f=a[c];if("object"==typeof f&&f)if("[object Array]"==w.call(f))for(e=f.length;e--;)q(f,e,d);else b(f,function(a){q(f,a,d)});return d.call(a,c,f)},x.parse=function(a,b){r=0,s=a;var c=o(n());return"$"!=n()&&m(),r=s=null,b&&"[object Function]"==w.call(b)?p((z={},z[""]=c,z),"",b):c}))}).call(this)}),i("ES5",["ES5ArrayPrototype","ES5FunctionPrototype","ES5StringPrototype","ES5Array","ES5Object","ES5Date","JSON3"],function(b,c,d,e,f){function g(a,b,c){var d=o.call(arguments,3),e=c?/\s(.*)\]/.exec(p.call(a).toLowerCase())[1]:a,f=q[e+"."+b]||a[b];return"function"==typeof f?f.apply(a,d):void 0}var h=c("ES5ArrayPrototype"),i=c("ES5FunctionPrototype"),j=c("ES5StringPrototype"),k=c("ES5Array"),l=c("ES5Object"),m=c("ES5Date"),n=c("JSON3"),o=Array.prototype.slice,p=Object.prototype.toString,q={"JSON.stringify":n.stringify,"JSON.parse":n.parse},r={array:h,"function":i,string:j,Object:l,Array:k,Date:m};for(var s in r)if(r.hasOwnProperty(s)){var t=r[s],u=s===s.toLowerCase()?a[s.replace(/^\w/,function(a){return a.toUpperCase()})].prototype:a[s];for(var v in t)if(t.hasOwnProperty(v)){var w=u[v];q[s+"."+v]=w&&/\{\s+\[native code\]\s\}/.test(w)?w:t[v]}}f.exports=g}),j=h("ES5"),j.apply(null,arguments)};i("sdk.RuntimeConfig",[],{locale:"en_US",rtl:!1}),i("SDKConfig",[],{bustCache:!0,tagCountLogRate:.01,errorHandling:{rate:4},usePluginPipe:!0,features:{kill_fragment:!0,xfbml_profile_pic_server:!0,error_handling:{rate:4},e2e_ping_tracking:{rate:1e-6}},api:{mode:"warn",whitelist:["Canvas","Canvas.Prefetcher","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.hideFlashElement","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.showFlashElement","Canvas.startTimer","Canvas.stopTimer","Data","Data.process","Data.query","Data.query:wait","Data.waitOn","Data.waitOn:wait","Event","Event.subscribe","Event.unsubscribe","Music.flashCallback","Music.init","Music.send","Payment","Payment.cancelFlow","Payment.continueFlow","Payment.init","Payment.lockForProcessing","Payment.unlockForProcessing","Payment.parse","Payment.setSize","ThirdPartyProvider","ThirdPartyProvider.init","ThirdPartyProvider.sendData","UA","UA.nativeApp","XFBML","XFBML.RecommendationsBar","XFBML.RecommendationsBar.markRead","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui","ui:subscribe"]},initSitevars:{enableMobileComments:1,iframePermissions:{read_stream:!1,manage_mailbox:!1,manage_friendlists:!1,read_mailbox:!1,publish_checkins:!0,status_update:!0,photo_upload:!0,video_upload:!0,sms:!1,create_event:!0,rsvp_event:!0,offline_access:!0,email:!0,xmpp_login:!1,create_note:!0,share_item:!0,export_stream:!1,publish_stream:!0,publish_likes:!0,ads_management:!1,contact_email:!0,access_private_data:!1,read_insights:!1,read_requests:!1,read_friendlists:!0,manage_pages:!1,physical_login:!1,manage_groups:!1,read_deals:!1}}}),i("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",connect:"connect.facebook.net",business:"business.facebook.com",api_https:"api.facebook.com",api_read_https:"api-read.facebook.com",graph_https:"graph.facebook.com",fbcdn_http:"fbstatic-a.akamaihd.net",fbcdn_https:"fbstatic-a.akamaihd.net",cdn_http:"static.ak.facebook.com",cdn_https:"s-static.ak.facebook.com"}),i("XDConfig",[],{XdUrl:"connect/xd_arbiter.php?version=40",Flash:{path:"https://connect.facebook.net/rsrc.php/v1/yR/r/ks_9ZXiQ0GL.swf"},useCdn:!0}),i("CssConfig",[],{rules:'.fb_hidden{position:absolute;top:-10000px;z-index:10001}\n.fb_invisible{display:none}\n.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}\n.fb_reset > div{overflow:hidden}\n.fb_link img{border:none}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}\n.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}\n.fb_dialog_content{background:#fff;color:#333}\n.fb_dialog_close_icon{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\\9;right:7px\\9}\n.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}\n.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}\n.fb_dialog_close_icon:hover{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}\n.fb_dialog_close_icon:active{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}\n.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}\n.fb_dialog_top_left,\n.fb_dialog_top_right,\n.fb_dialog_bottom_left,\n.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}\n.fb_dialog_top_left{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}\n.fb_dialog_top_right{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}\n.fb_dialog_bottom_left{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}\n.fb_dialog_bottom_right{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}\n.fb_dialog_vert_left,\n.fb_dialog_vert_right,\n.fb_dialog_horiz_top,\n.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}\n.fb_dialog_vert_left,\n.fb_dialog_vert_right{width:10px;height:100%}\n.fb_dialog_vert_left{margin-left:-10px}\n.fb_dialog_vert_right{right:0;margin-right:-10px}\n.fb_dialog_horiz_top,\n.fb_dialog_horiz_bottom{width:100%;height:10px}\n.fb_dialog_horiz_top{margin-top:-10px}\n.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}\n.fb_dialog_iframe{line-height:0}\n.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}\n.fb_dialog_content .dialog_title > span{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif)\nno-repeat 5px 50%;float:left;padding:5px 0 7px 26px}\nbody.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}\n.fb_dialog.fb_dialog_mobile.loading{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif)\nwhite no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}\n.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}\n#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}\n#fb-root #fb_dialog_ipad_overlay.hidden{display:none}\n.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}\n.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}\n.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%\n}\n.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px\n}\n.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px\n}\n.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6),\ncolor-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,\nrgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}\n.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\n.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}\n.fb_dialog_content .dialog_content{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}\n.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}\n#fb_dialog_loader_close{float:left}\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}\n.fb_iframe_widget{display:inline-block;position:relative}\n.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}\n.fb_iframe_widget iframe{position:absolute}\n.fb_iframe_widget_lift{z-index:1}\n.fb_hide_iframes iframe{position:relative;left:-10000px}\n.fb_iframe_widget_loader{position:relative;display:inline-block}\n.fb_iframe_widget_fluid{display:inline}\n.fb_iframe_widget_fluid span{width:100%}\n.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}\n.fb_iframe_widget_loader .FB_Loader{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}\n.fb_connect_bar_container div,\n.fb_connect_bar_container span,\n.fb_connect_bar_container a,\n.fb_connect_bar_container img,\n.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}\n.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}\n.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}\n.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}\n.fb_connect_bar a:hover{color:#fff}\n.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}\n.fb_connect_bar div a,\n.fb_connect_bar span,\n.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}\n.fb_connect_bar .fb_buttons{float:right;margin-top:7px}\n.fbpluginrecommendationsbarleft,\n.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}\n.fbpluginrecommendationsbarleft{left:10px}\n.fbpluginrecommendationsbarright{right:10px}',components:["css:fb.css.base","css:fb.css.dialog","css:fb.css.iframewidget","css:fb.css.connectbarwidget","css:fb.css.plugin.recommendationsbar"]}),i("CanvasPrefetcherConfig",[],{blacklist:[0x83d70a64a992],sampleRate:500}),i("PluginPipeConfig",[],{threshold:0,enabledApps:{209753825810663:1,187288694643718:1}}),i("ConnectBarConfig",[],{imgs:{buttonUrl:"rsrc.php/v2/yY/r/h_Y6u1wrZPW.png",missingProfileUrl:"rsrc.php/v2/yo/r/UlIqmHJn-SK.gif"}}),i("ApiClientConfig",[],{FlashRequest:{swfUrl:"https://connect.facebook.net/rsrc.php/v1/yW/r/PvklbuW2Ycn.swf"}}),i("QueryString",[],function(a,b,c,d,e){function f(a){var b=[];return j(j("Object","keys",!1,a).sort(),"forEach",!0,function(c){var d=a[c];if("undefined"!=typeof d)return null===d?void b.push(c):void b.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}),b.join("&")}function g(a,b){var c={};if(""===a)return c;for(var d=a.split("&"),e=0;e<d.length;e++){var f=d[e].split("=",2),g=decodeURIComponent(f[0]);if(b&&c.hasOwnProperty(g))throw new URIError("Duplicate key: "+g);c[g]=2===f.length?decodeURIComponent(f[1]):null}return c}function h(a,b){return a+(~j(a,"indexOf",!0,"?")?"&":"?")+("string"==typeof b?b:i.encode(b))}var i={encode:f,decode:g,appendToUrl:h};e.exports=i}),i("copyProperties",[],function(a,b,c,d,e){function f(a,b,c,d,e,f){a=a||{};for(var g,h=[b,c,d,e,f],i=0;h[i];){g=h[i++];for(var j in g)a[j]=g[j];g.hasOwnProperty&&g.hasOwnProperty("toString")&&"undefined"!=typeof g.toString&&a.toString!==g.toString&&(a.toString=g.toString)}return a}e.exports=f}),i("ManagedError",[],function(a,b,c,d,e){function f(a,b){Error.prototype.constructor.call(this,a),this.message=a,this.innerError=b}f.prototype=new Error,f.prototype.constructor=f,e.exports=f}),i("AssertionError",["ManagedError"],function(a,b,c,d,e){function f(){g.prototype.constructor.apply(this,arguments)}var g=b("ManagedError");f.prototype=new g,f.prototype.constructor=f,e.exports=f}),i("sprintf",[],function(a,b,c,d,e){function f(a){var b=Array.prototype.slice.call(arguments,1),c=0;return a.replace(/%s/g,function(){return b[c++]})}e.exports=f}),i("Assert",["AssertionError","sprintf"],function(a,b,c,d,e){function f(a,b){if("boolean"!=typeof a||!a)throw new k(b);return a}function g(a,b,c){var d;if(void 0===b)d="undefined";else if(null===b)d="null";else{var e=Object.prototype.toString.call(b);d=/\s(\w*)/.exec(e)[1].toLowerCase()}return f(-1!==j(a,"indexOf",!0,d),c||l("Expression is of type %s, not %s",d,a)),b}function h(a,b,c){return f(b instanceof a,c||"Expression not instance of type"),b}function i(a,b){m["is"+a]=b,m["maybe"+a]=function(a,c){null!=a&&b(a,c)}}var k=b("AssertionError"),l=b("sprintf"),m={isInstanceOf:h,isTrue:f,isTruthy:function(a,b){return f(!!a,b)},type:g,define:function(a,b){a=a.substring(0,1).toUpperCase()+a.substring(1).toLowerCase(),i(a,function(a,c){f(b(a),c)})}};j(["Array","Boolean","Date","Function","Null","Number","Object","Regexp","String","Undefined"],"forEach",!0,function(a){i(a,j(g,"bind",!0,null,a.toLowerCase()))}),e.exports=m}),i("Type",["copyProperties","Assert"],function(a,b,c,d,e){function f(){var a=this.__mixins;if(a)for(var b=0;b<a.length;b++)a[b].apply(this,arguments)}function g(a,b){if(b instanceof a)return!0;if(b instanceof f)for(var c=0;c<b.__mixins.length;c++)if(b.__mixins[c]==a)return!0;return!1}function h(a,b){var c=a.prototype;j("Array","isArray",!1,b)||(b=[b]);for(var d=0;d<b.length;d++){var e=b[d];"function"==typeof e&&(c.__mixins.push(e),e=e.prototype),j(j("Object","keys",!1,e),"forEach",!0,function(a){c[a]=e[a]})}}function i(a,b,c){var d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){this.parent.apply(this,arguments)};if(l.isFunction(d),a&&a.prototype instanceof f==!1)throw new Error("parent type does not inherit from Type");a=a||f;var e=new Function;return e.prototype=a.prototype,d.prototype=new e,k(d.prototype,b),d.prototype.constructor=d,d.parent=a,d.prototype.__mixins=a.prototype.__mixins?Array.prototype.slice.call(a.prototype.__mixins):[],c&&h(d,c),d.prototype.parent=function(){this.parent=a.prototype.parent,a.apply(this,arguments)},d.prototype.parentCall=function(b){return a.prototype[b].apply(this,Array.prototype.slice.call(arguments,1))},d.extend=function(a,b){return i(this,a,b)},d}var k=b("copyProperties"),l=b("Assert");k(f.prototype,{instanceOf:function(a){return g(a,this)}}),k(f,{extend:function(a,b){return"function"==typeof a?i.apply(null,arguments):i(null,a,b)},instanceOf:g}),e.exports=f}),i("ObservableMixin",[],function(a,b,c,d,e){function g(){this.__observableEvents={}}g.prototype={inform:function(a){for(var b=Array.prototype.slice.call(arguments,1),c=Array.prototype.slice.call(this.getSubscribers(a)),d=0;d<c.length;d++)if(null!==c[d])try{c[d].apply(this,b)}catch(e){f(function(){throw e},0)}return this},getSubscribers:function(a){return this.__observableEvents[a]||(this.__observableEvents[a]=[])},clearSubscribers:function(a){return a&&(this.__observableEvents[a]=[]),this},clearAllSubscribers:function(){return this.__observableEvents={},this},subscribe:function(a,b){var c=this.getSubscribers(a);return c.push(b),this},unsubscribe:function(a,b){for(var c=this.getSubscribers(a),d=0;d<c.length;d++)if(c[d]===b){c.splice(d,1);break}return this},monitor:function(a,b){if(!b()){var c=j(function(){b.apply(b,arguments)&&this.unsubscribe(a,c)},"bind",!0,this);this.subscribe(a,c)}return this}},e.exports=g}),i("sdk.Model",["Type","ObservableMixin"],function(a,b,c,d,e){var f=b("Type"),g=b("ObservableMixin"),h=f.extend({constructor:function(a){this.parent();var b={},c=this;j(j("Object","keys",!1,a),"forEach",!0,function(d){b[d]=a[d],c["set"+d]=function(a){return a===b[d]?this:(b[d]=a,c.inform(d+".change",a),c)},c["get"+d]=function(){return b[d]}})}},g);e.exports=h}),i("sdk.Runtime",["sdk.Model","copyProperties","sdk.RuntimeConfig"],function(b,c,d,e,f){var g=c("sdk.Model"),h=d("sdk.RuntimeConfig"),i=c("copyProperties"),j={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},k=new g({AccessToken:"",ClientID:"",Environment:j.UNKNOWN,Initialized:!1,KidDirectedSite:void 0,Locale:h.locale,LoginStatus:void 0,Rtl:h.rtl,Scope:void 0,Secure:void 0,UseCookie:!1,UserID:"",CookieUserID:""});i(k,{ENVIRONMENTS:j,isEnvironment:function(a){var b=this.getEnvironment();return(a|b)===b}}),function(){var b=/app_runner/.test(a.name)?j.PAGETAB:/iframe_canvas/.test(a.name)?j.CANVAS:j.UNKNOWN;(b|j.PAGETAB)===b&&(b|=j.CANVAS),k.setEnvironment(b)}(),f.exports=k}),i("sdk.Cookie",["QueryString","sdk.Runtime"],function(a,b,c,d,f){function g(a,b,c){a+=j.getClientID();var d=k&&"."!==k;d&&(e.cookie=a+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;",e.cookie=a+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;domain="+location.hostname+";");var f=new Date(c).toGMTString();e.cookie=a+"="+b+(b&&0===c?"":"; expires="+f)+"; path=/"+(d?"; domain="+k:"")}function h(a){a+=j.getClientID();var b=new RegExp("\\b"+a+"=([^;]*)\\b");return b.test(e.cookie)?RegExp.$1:null}var i=b("QueryString"),j=b("sdk.Runtime"),k=null,l={setDomain:function(a){k=a;var b=i.encode({base_domain:k&&"."!==k?k:""}),c=new Date;c.setFullYear(c.getFullYear()+1),g("fbm_",b,c.getTime())},getDomain:function(){return k},loadMeta:function(){var a=h("fbm_");if(a){var b=i.decode(a);return k||(k=b.base_domain),b}},loadSignedRequest:function(){return h("fbsr_")},setSignedRequestCookie:function(a,b){if(!a)throw new Error("Value passed to Cookie.setSignedRequestCookie was empty.");g("fbsr_",a,b)},clearSignedRequestCookie:function(){g("fbsr_","",0)},setRaw:g};f.exports=l}),i("guid",[],function(a,b,c,d,e){function f(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}e.exports=f}),i("hasNamePropertyBug",["guid"],function(a,b,c,d,f){function g(){var a=e.createElement("form"),b=a.appendChild(e.createElement("input"));return b.name=j(),i=b!==a.elements[b.name],a=b=null,i}function h(){return"undefined"==typeof i?g():i}var i,j=b("guid");f.exports=h}),i("wrapFunction",[],function(a,b,c,d,e){function f(a,b,c){return b=b||"default",function(){var d=b in g?g[b](a,c):a;return d.apply(this,arguments)}}var g={};f.setWrapper=function(a,b){b=b||"default",g[b]=a},e.exports=f}),i("DOMEventListener",["wrapFunction"],function(b,c,d,e,f){var g,h,i=c("wrapFunction");a.addEventListener?(g=function(a,b,c){c.wrapper=i(c,"entry","DOMEventListener.add "+b),a.addEventListener(b,c.wrapper,!1)},h=function(a,b,c){a.removeEventListener(b,c.wrapper,!1)}):a.attachEvent?(g=function(a,b,c){c.wrapper=i(c,"entry","DOMEventListener.add "+b),a.attachEvent("on"+b,c.wrapper)},h=function(a,b,c){a.detachEvent("on"+b,c.wrapper)}):h=g=function(){};var j={add:function(a,b,c){return g(a,b,c),{remove:function(){h(a,b,c),a=null}}},remove:h};f.exports=j}),i("sdk.createIframe",["copyProperties","guid","hasNamePropertyBug","DOMEventListener"],function(a,b,c,d,f){function g(a){a=h({},a);var b,c=a.name||i(),d=a.root,f=a.style||{border:"none"},g=a.url,l=a.onload;j()?b=e.createElement('<iframe name="'+c+'"/>'):(b=e.createElement("iframe"),b.name=c),delete a.style,delete a.name,delete a.url,delete a.root,delete a.onload;var m=h({frameBorder:0,allowTransparency:!0,scrolling:"no"},a);m.width&&(b.width=m.width+"px"),m.height&&(b.height=m.height+"px"),delete m.height,delete m.width;for(var n in m)m.hasOwnProperty(n)&&b.setAttribute(n,m[n]);if(h(b.style,f),b.src="javascript:false",d.appendChild(b),l)var o=k.add(b,"load",function(){o.remove(),l()});return b.src=g,b}var h=b("copyProperties"),i=b("guid"),j=b("hasNamePropertyBug"),k=b("DOMEventListener");f.exports=g}),i("DOMWrapper",[],function(a,b,c,f,g){var h,i,j={setRoot:function(a){h=a},getRoot:function(){return h||e.body},setWindow:function(a){i=a},getWindow:function(){return i||d
}};g.exports=j}),i("sdk.feature",["SDKConfig"],function(a,b,c,d,e){function f(a,b){if(g.features&&a in g.features){var c=g.features[a];return"object"==typeof c&&"number"==typeof c.rate?c.rate&&100*Math.random()<=c.rate?c.value||!0:c.value?null:!1:c}return"undefined"!=typeof b?b:null}var g=c("SDKConfig");e.exports=f}),i("UserAgent",[],function(a,b,c,d,f){function g(){if(!w){w=!0;var a=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a),c=/(Mac OS X)|(Windows)|(Linux)/.exec(a);if(s=/\b(iPhone|iP[ao]d)/.exec(a),t=/\b(iP[ao]d)/.exec(a),q=/Android/i.exec(a),u=/FBAN\/\w+;/i.exec(a),v=/Mobile/i.exec(a),r=!!/Win64/.exec(a),b){h=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):0/0,h&&e&&e.documentMode&&(h=e.documentMode);var d=/(?:Trident\/(\d+.\d+))/.exec(a);m=d?parseFloat(d[1])+4:h,i=b[2]?parseFloat(b[2]):0/0,j=b[3]?parseFloat(b[3]):0/0,k=b[4]?parseFloat(b[4]):0/0,k?(b=/(?:Chrome\/(\d+\.\d+))/.exec(a),l=b&&b[1]?parseFloat(b[1]):0/0):l=0/0}else h=i=j=l=k=0/0;if(c){if(c[1]){var f=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a);n=f?parseFloat(f[1].replace("_",".")):!0}else n=!1;o=!!c[2],p=!!c[3]}else n=o=p=!1}}var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=!1,x={ie:function(){return g()||h},ieCompatibilityMode:function(){return g()||m>h},ie64:function(){return x.ie()&&r},firefox:function(){return g()||i},opera:function(){return g()||j},webkit:function(){return g()||k},safari:function(){return x.webkit()},chrome:function(){return g()||l},windows:function(){return g()||o},osx:function(){return g()||n},linux:function(){return g()||p},iphone:function(){return g()||s},mobile:function(){return g()||s||t||q||v},nativeApp:function(){return g()||u},android:function(){return g()||q},ipad:function(){return g()||t}};f.exports=x}),i("sdk.getContextType",["UserAgent","sdk.Runtime"],function(a,b,c,d,e){function f(){return g.nativeApp()?3:g.mobile()?2:h.isEnvironment(h.ENVIRONMENTS.CANVAS)?5:1}var g=b("UserAgent"),h=b("sdk.Runtime");e.exports=f}),i("UrlMap",["UrlMapConfig"],function(a,b,c,d,e){var f=b("UrlMapConfig"),g={resolve:function(a,b){var c="undefined"==typeof b?location.protocol.replace(":",""):b?"https":"http";return a in f?c+"://"+f[a]:"undefined"==typeof b&&a+"_"+c in f?c+"://"+f[a+"_"+c]:b!==!0&&a+"_http"in f?"http://"+f[a+"_http"]:b!==!1&&a+"_https"in f?"https://"+f[a+"_https"]:void 0}};e.exports=g}),i("sdk.Impressions",["guid","QueryString","sdk.Runtime","UrlMap"],function(a,b,c,d,e){function f(a){var b=i.getClientID();!a.api_key&&b&&(a.api_key=b),a.kid_directed_site=i.getKidDirectedSite();var c=new Image;c.src=h.appendToUrl(k.resolve("www",!0)+"/impression.php/"+g()+"/",a)}var g=b("guid"),h=b("QueryString"),i=b("sdk.Runtime"),k=b("UrlMap"),l={log:function(a,b){b.source||(b.source="jssdk"),f({lid:a,payload:j("JSON","stringify",!1,b)})},impression:f};e.exports=l}),i("Log",["sprintf"],function(b,c,d,e,f){function g(b,c){var d=Array.prototype.slice.call(arguments,2),e=h.apply(null,d),f=a.console;f&&k.level>=c&&f[b in f?b:"log"](e)}var h=c("sprintf"),i={DEBUG:3,INFO:2,WARNING:1,ERROR:0},k={level:-1,Level:i,debug:j(g,"bind",!0,null,"debug",i.DEBUG),info:j(g,"bind",!0,null,"info",i.INFO),warn:j(g,"bind",!0,null,"warn",i.WARNING),error:j(g,"bind",!0,null,"error",i.ERROR)};f.exports=k}),i("Base64",[],function(a,b,c,d,e){function f(a){return a=a.charCodeAt(0)<<16|a.charCodeAt(1)<<8|a.charCodeAt(2),String.fromCharCode(h.charCodeAt(a>>>18),h.charCodeAt(a>>>12&63),h.charCodeAt(a>>>6&63),h.charCodeAt(63&a))}function g(a){return a=i.charCodeAt(a.charCodeAt(0)-43)<<18|i.charCodeAt(a.charCodeAt(1)-43)<<12|i.charCodeAt(a.charCodeAt(2)-43)<<6|i.charCodeAt(a.charCodeAt(3)-43),String.fromCharCode(a>>>16,a>>>8&255,255&a)}var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=">___?456789:;<=_______\x00\b	\n\f\r______ !\"#$%&'()*+,-./0123",k={encode:function(a){a=unescape(encodeURI(a));var b=(a.length+2)%3;return a=(a+"\x00\x00".slice(b)).replace(/[\s\S]{3}/g,f),a.slice(0,a.length+b-2)+"==".slice(b)},decode:function(a){a=a.replace(/[^A-Za-z0-9+\/]/g,"");var b=a.length+3&3;a=(a+"AAA".slice(b)).replace(/..../g,g),a=a.slice(0,a.length+b-3);try{return decodeURIComponent(escape(a))}catch(c){throw new Error("Not valid UTF-8")}},encodeObject:function(a){return k.encode(j("JSON","stringify",!1,a))},decodeObject:function(a){return j("JSON","parse",!1,k.decode(a))},encodeNums:function(a){return String.fromCharCode.apply(String,j(a,"map",!0,function(a){return h.charCodeAt((a|-(a>63))&-(a>0)&63)}))}};e.exports=k}),i("sdk.SignedRequest",["Base64"],function(a,b,c,d,e){function f(a){if(!a)return null;var b=a.split(".",2)[1].replace(/\-/g,"+").replace(/\_/g,"/");return g.decodeObject(b)}var g=b("Base64"),h={parse:f};e.exports=h}),i("URL",["Assert","copyProperties","QueryString","Log"],function(a,b,c,d,f){function g(a){if(h.isString(a,"The passed argument was of invalid type."),m.test(a))throw new URIError("The passed argument could not be parsed as a url.");if(this instanceof g==!1)return new g(a);var b=a.replace(n,function(b){return k.warn('Escaping unescaped character \\x%s from "%s"',b.charCodeAt(0).toString(16),a),encodeURIComponent(b)}).match(l);if(!a||!b)throw new URIError("The passed argument could not be parsed as a url.");var c=!!location.hostname;if(this.setProtocol(b[4]||(c?location.protocol.replace(/:/,""):"")),this.setDomain(b[6]||location.hostname),this.setPort(b[8]||(c&&!b[6]?location.port:"")),this.setPath(b[9]||""),this.setSearch(b[11]||""),this.setFragment(b[13]||""),"/"!=this._path.substring(0,1)&&(this._path="/"+this._path),this._domain&&!o.test(decodeURIComponent(this._domain.toLowerCase())))throw k.error("Invalid characters found in domain name: %s",this._domain),new URIError("Domain contained invalid characters.")}var h=b("Assert"),i=b("copyProperties"),j=b("QueryString"),k=b("Log"),l=new RegExp("((((\\w+):)?//)(.*?@)?([^~/?#:]+)(:(\\d+))?)?([^\\?$#]+)?(\\?([^$#]+))?(#([^$]+))?"),m=/[\0\\]/,n=/[^\w\-\.,;\/?:@=&%#$~+!*'\[\]()]+/g,o=/^[a-z0-9.][a-z0-9\-\.]+[a-z0-9.]$/,p=/\.facebook\.com$/;i(g.prototype,{constructor:g,getProtocol:function(){return this._protocol},setProtocol:function(a){return this._protocol=a,this},getDomain:function(){return this._domain},setDomain:function(a){return this._domain=a,this},getPort:function(){return this._port},setPort:function(a){return this._port=a,this},getPath:function(){return this._path},setPath:function(a){return this._path=a,this},getSearch:function(){return this._search},setSearch:function(a){return this._search=a,this},getFragment:function(){return this._fragment},setFragment:function(a){return this._fragment=a,this},getParsedSearch:function(){return j.decode(this._search)},getParsedFragment:function(){return j.decode(this._fragment)},isFacebookURL:function(){return p.test(this._domain)},toString:function(){return(this._protocol?this._protocol+":":"")+(this._domain?"//"+this._domain:"")+(this._port?":"+this._port:"")+this._path+(this._search?"?"+this._search:"")+(this._fragment?"#"+this._fragment:"")},valueOf:function(){return this.toString()}}),i(g,{getCurrent:function(){return new g(location.href)},getReferrer:function(){return e.referrer?new g(e.referrer):null}}),f.exports=g}),i("sdk.domReady",[],function(b,c,d,g,h){function i(){if(k){for(var a;a=k.shift();)a();k=null}}function j(a){return k?void k.push(a):void a()}var k,l="readyState"in e?/loaded|complete/.test(e.readyState):!!e.body;if(!l&&(k=[],e.addEventListener?(e.addEventListener("DOMContentLoaded",i,!1),a.addEventListener("load",i,!1)):e.attachEvent&&(e.attachEvent("onreadystatechange",i),a.attachEvent("onload",i)),e.documentElement.doScroll&&a==a.top)){var m=function(){try{e.documentElement.doScroll("left")}catch(a){return void f(m,0)}i()};m()}h.exports=j},3),i("sdk.Content",["sdk.domReady","Log","UserAgent"],function(a,b,c,d,f){var g,h=b("sdk.domReady"),i=b("Log"),j=b("UserAgent"),k={append:function(a,b){if(b||(g?b=g:(g=b=e.getElementById("fb-root"),b||(i.warn('The "fb-root" div has not been created, auto-creating'),g=b=e.createElement("div"),b.id="fb-root",j.ie()||!e.body?h(function(){e.body.appendChild(b)}):e.body.appendChild(b)),b.className+=" fb_reset")),"string"==typeof a){var c=e.createElement("div");return b.appendChild(c).innerHTML=a,c}return b.appendChild(a)},appendHidden:function(a){if(!b){var b=e.createElement("div"),c=b.style;c.position="absolute",c.top="-10000px",c.width=c.height=0,b=k.append(b)}return k.append(a,b)},submitToTarget:function(a,b){var c=e.createElement("form");c.action=a.url,c.target=a.target,c.method=b?"GET":"POST",k.appendHidden(c);for(var d in a.params)if(a.params.hasOwnProperty(d)){var f=a.params[d];if(null!==f&&void 0!==f){var g=e.createElement("input");g.name=d,g.value=f,c.appendChild(g)}}c.submit(),c.parentNode.removeChild(c)}};f.exports=k}),i("sdk.Event",[],function(a,b,c,d,e){var f={subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},subscribe:function(a,b){var c=this.subscribers();c[a]?c[a].push(b):c[a]=[b]},unsubscribe:function(a,b){var c=this.subscribers()[a];c&&j(c,"forEach",!0,function(a,d){a==b&&(c[d]=null)})},monitor:function(a,b){if(!b()){var c=this,d=function(){b.apply(b,arguments)&&c.unsubscribe(a,d)};this.subscribe(a,d)}},clear:function(a){delete this.subscribers()[a]},fire:function(a){var b=Array.prototype.slice.call(arguments,1),c=this.subscribers()[a];c&&j(c,"forEach",!0,function(a){a&&a.apply(this,b)})}};e.exports=f}),i("Queue",["copyProperties"],function(a,b,c,d,e){function g(a){"use strict";this._opts=h({interval:0,processor:null},a),this._queue=[],this._stopped=!0}var h=b("copyProperties"),i={};g.prototype._dispatch=function(){"use strict";if(!this._stopped&&0!==this._queue.length){if(!this._opts.processor)throw this._stopped=!0,new Error("No processor available");if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=f(j(this._dispatch,"bind",!0,this),this._opts.interval);else for(;this._queue.length;)this._opts.processor.call(this,this._queue.shift())}},g.prototype.enqueue=function(a){"use strict";return this._opts.processor&&!this._stopped?this._opts.processor.call(this,a):this._queue.push(a),this},g.prototype.start=function(a){"use strict";return a&&(this._opts.processor=a),this._stopped=!1,this._dispatch(),this},g.prototype.dispatch=function(){"use strict";this._dispatch(!0)},g.prototype.stop=function(a){"use strict";return this._stopped=!0,a&&clearTimeout(this._timeout),this},g.prototype.merge=function(a,b){"use strict";return this._queue[b?"unshift":"push"].apply(this._queue,a._queue),a._queue=[],this._dispatch(),this},g.prototype.getLength=function(){"use strict";return this._queue.length},g.get=function(a,b){"use strict";var c;return c=a in i?i[a]:i[a]=new g(b)},g.exists=function(a){"use strict";return a in i},g.remove=function(a){"use strict";return delete i[a]},e.exports=g}),i("JSONRPC",["copyProperties","Log"],function(a,b,c,d,e){function g(a){this._counter=0,this._callbacks={},this.remote=j(function(a){return this._context=a,this.remote},"bind",!0,this),this.local={},this._write=a}var h=b("copyProperties"),i=b("Log");h(g.prototype,{stub:function(a){this.remote[a]=j(function(){var b=Array.prototype.slice.call(arguments),c={jsonrpc:"2.0",method:a};"function"==typeof b[b.length-1]&&(c.id=++this._counter,this._callbacks[c.id]=b.pop()),c.params=b,this._write(j("JSON","stringify",!1,c),this._context||{method:a})},"bind",!0,this)},read:function(a,b){var c=j("JSON","parse",!1,a),d=c.id;if(!c.method){if(!this._callbacks[d])return void i.warn("Could not find callback %s",d);var e=this._callbacks[d];return delete this._callbacks[d],delete c.id,delete c.jsonrpc,void e(c)}var g,h=this,k=this.local[c.method];if(g=d?function(a,c){var e={jsonrpc:"2.0",id:d};e[a]=c,f(function(){h._write(j("JSON","stringify",!1,e),b)},0)}:function(){},!k)return i.error('Method "%s" has not been defined',c.method),void g("error",{code:-32601,message:"Method not found",data:c.method});c.params.push(j(g,"bind",!0,null,"result")),c.params.push(j(g,"bind",!0,null,"error"));try{var l=k.apply(b||null,c.params);"undefined"!=typeof l&&g("result",l)}catch(m){i.error("Invokation of RPC method %s resulted in the error: %s",c.method,m.message),g("error",{code:-32603,message:"Internal error",data:m.message})}}}),e.exports=g}),i("sdk.RPC",["Assert","JSONRPC","Queue"],function(a,b,c,d,e){var f=b("Assert"),g=b("JSONRPC"),h=b("Queue"),i=new h,k=new g(function(a){i.enqueue(a)}),l={local:k.local,remote:k.remote,stub:j(k.stub,"bind",!0,k),setInQueue:function(a){f.isInstanceOf(h,a),a.start(function(a){k.read(a)})},getOutQueue:function(){return i}};e.exports=l}),i("emptyFunction",["copyProperties"],function(a,b,c,d,e){function f(a){return function(){return a}}function g(){}var h=b("copyProperties");h(g,{thatReturns:f,thatReturnsFalse:f(!1),thatReturnsTrue:f(!0),thatReturnsNull:f(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(a){return a}}),e.exports=g}),i("htmlSpecialChars",[],function(a,b,c,d,e){function f(a){return"undefined"!=typeof a&&null!==a&&a.toString?a===!1?"0":a===!0?"1":a.toString().replace(g,"&amp;").replace(j,"&quot;").replace(k,"&#039;").replace(h,"&lt;").replace(i,"&gt;"):""}var g=/&/g,h=/</g,i=/>/g,j=/"/g,k=/'/g;e.exports=f}),i("Flash",["DOMEventListener","DOMWrapper","QueryString","UserAgent","copyProperties","guid","htmlSpecialChars"],function(b,c,d,e,f){function g(a){var b=t.getElementById(a);b&&b.parentNode.removeChild(b),delete s[a]}function h(){for(var a in s)s.hasOwnProperty(a)&&g(a)}function i(a){return a.replace(/\d+/g,function(a){return"000".substring(a.length)+a})}function j(b){k||(o.ie()>=9&&l.add(a,"unload",h),k=!0),s[b]=b}var k,l=c("DOMEventListener"),m=c("DOMWrapper"),n=c("QueryString"),o=c("UserAgent"),p=c("copyProperties"),q=c("guid"),r=c("htmlSpecialChars"),s={},t=m.getWindow().document,u={embed:function(a,b,c,d){var e=q();a=r(a).replace(/&amp;/g,"&"),c=p({allowscriptaccess:"always",flashvars:d,movie:a},c||{}),"object"==typeof c.flashvars&&(c.flashvars=n.encode(c.flashvars));var f=[];for(var g in c)c.hasOwnProperty(g)&&c[g]&&f.push('<param name="'+r(g)+'" value="'+r(c[g])+'">');var h=b.appendChild(t.createElement("span")),i="<object "+(o.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+a+'" '+(c.height?'height="'+c.height+'" ':"")+(c.width?'width="'+c.width+'" ':"")+'id="'+e+'">'+f.join("")+"</object>";h.innerHTML=i;var k=h.firstChild;return j(e),k},remove:g,getVersion:function(){var a,b="Shockwave Flash",c="application/x-shockwave-flash",d="ShockwaveFlash.ShockwaveFlash";if(navigator.plugins&&"object"==typeof navigator.plugins[b]){var e=navigator.plugins[b].description;e&&navigator.mimeTypes&&navigator.mimeTypes[c]&&navigator.mimeTypes[c].enabledPlugin&&(a=e.match(/\d+/g))}if(!a)try{a=new ActiveXObject(d).GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),a=Array.prototype.slice.call(a,1)}catch(f){}return a},checkMinVersion:function(a){var b=u.getVersion();return b?i(b.join("."))>=i(a):!1},isAvailable:function(){return!!u.getVersion()}};f.exports=u}),i("dotAccess",[],function(a,b,c,d,e){function f(a,b,c){var d=b.split(".");do{var e=d.shift();a=a[e]||c&&(a[e]={})}while(d.length&&a);return a}e.exports=f}),i("GlobalCallback",["DOMWrapper","dotAccess","guid","wrapFunction"],function(a,b,c,d,e){var f,g,h=b("DOMWrapper"),i=b("dotAccess"),j=b("guid"),k=b("wrapFunction"),l={setPrefix:function(a){f=i(h.getWindow(),a,!0),g=a},create:function(a,b){f||this.setPrefix("__globalCallbacks");var c=j();return f[c]=k(a,"entry",b||"GlobalCallback"),g+"."+c},remove:function(a){var b=a.substring(g.length+1);delete f[b]}};e.exports=l}),i("XDM",["DOMEventListener","DOMWrapper","emptyFunction","Flash","GlobalCallback","guid","Log","UserAgent","wrapFunction"],function(a,b,c,d,e){function g(a){for(var b={},c=a.length,d=r.transports;c--;)b[a[c]]=1;for(c=d.length;c--;){var e=d[c],f=q[e];if(!b[e]&&f.isAvailable())return e}}var h=b("DOMEventListener"),i=b("DOMWrapper"),j=b("emptyFunction"),k=b("Flash"),l=b("GlobalCallback"),m=b("guid"),n=b("Log"),o=b("UserAgent"),p=b("wrapFunction"),q={},r={transports:[]},s=i.getWindow(),t={register:function(a,b){n.debug("Registering %s as XDM provider",a),r.transports.push(a),q[a]=b},create:function(a){if(!a.whenReady&&!a.onMessage)throw n.error("An instance without whenReady or onMessage makes no sense"),new Error("An instance without whenReady or onMessage makes no sense");a.channel||(n.warn("Missing channel name, selecting at random"),a.channel=m()),a.whenReady||(a.whenReady=j),a.onMessage||(a.onMessage=j);var b=a.transport||g(a.blacklist||[]),c=q[b];return c&&c.isAvailable()?(n.debug("%s is available",b),c.init(a),b):void 0}};t.register("flash",function(){var a,b,c=!1,d=!1,e=15e3;return{isAvailable:function(){return k.checkMinVersion("8.0.24")},init:function(g){n.debug("init flash: "+g.channel);var h={send:function(b,c,d,e){n.debug("sending to: %s (%s)",c,e),a.postMessage(b,c,e)}};if(c)return void g.whenReady(h);var i=g.root.appendChild(s.document.createElement("div")),j=l.create(function(){l.remove(j),clearTimeout(b),n.info("xdm.swf called the callback");var c=l.create(function(a,b){a=decodeURIComponent(a),b=decodeURIComponent(b),n.debug("received message %s from %s",a,b),g.onMessage(a,b)},"xdm.swf:onMessage");a.init(g.channel,c),g.whenReady(h)},"xdm.swf:load");a=k.embed(g.flashUrl,i,null,{protocol:location.protocol.replace(":",""),host:location.host,callback:j,log:d}),b=f(function(){n.warn("The Flash component did not load within %s ms - verify that the container is not set to hidden or invisible using CSS as this will cause some browsers to not load the components",e)},e),c=!0}}}()),t.register("postmessage",function(){var a=!1;return{isAvailable:function(){return!!s.postMessage},init:function(b){n.debug("init postMessage: "+b.channel);var c="_FB_"+b.channel,d={send:function(a,b,c,d){if(s===c)throw n.error("Invalid windowref, equal to window (self)"),new Error;n.debug("sending to: %s (%s)",b,d);var e=function(){c.postMessage("_FB_"+d+a,b)};8==o.ie()||o.ieCompatibilityMode()?f(e,0):e()}};return a?void b.whenReady(d):(h.add(s,"message",p(function(a){var d=a.data,e=a.origin||"native";return"string"!=typeof d?void n.warn("Received message of type %s from %s, expected a string",typeof d,e):(n.debug("received message %s from %s",d,e),d.substring(0,c.length)==c&&(d=d.substring(c.length)),void b.onMessage(d,e))},"entry","onMessage")),b.whenReady(d),void(a=!0))}}}()),e.exports=t}),i("sdk.XD",["sdk.Content","sdk.createIframe","sdk.Event","guid","Log","QueryString","Queue","sdk.RPC","sdk.Runtime","UrlMap","URL","XDM","XDConfig"],function(a,b,c,d,f){function g(a){t.info("Remote XD can talk to facebook.com (%s)",a),x.setEnvironment("canvas"===a?x.ENVIRONMENTS.CANVAS:x.ENVIRONMENTS.PAGETAB)}function h(a,b){if(!b)throw t.error("No senderOrigin"),new Error;var c=/^https?/.exec(b)[0];switch(a.xd_action){case"proxy_ready":var d,e;"https"==c?(d=E,e=n):(d=D,e=m),a.registered&&(g(a.registered),C=d.merge(C)),t.info("Proxy ready, starting queue %s containing %s messages",c+"ProxyQueue",d.getLength()),d.start(function(a){o.send("string"==typeof a?a:u.encode(a),b,e.contentWindow,G+"_"+c)});break;case"plugin_ready":if(t.info("Plugin %s ready, protocol: %s",a.name,c),K[a.name]={protocol:c},v.exists(a.name)){var f=v.get(a.name);t.debug("Enqueuing %s messages for %s in %s",f.getLength(),a.name,c+"ProxyQueue"),("https"==c?E:D).merge(f)}}a.data&&i(a.data,b)}function i(a,b){if(!b||"native"===b||z(b).isFacebookURL()){if("string"==typeof a){if(/^FB_RPC:/.test(a))return void L.enqueue(a.substring(7));if("{"==a.substring(0,1))try{a=j("JSON","parse",!1,a)}catch(c){return void t.warn("Failed to decode %s as JSON",a)}else a=u.decode(a)}if(b||a.xd_sig==F&&(b=a.xd_origin),a.xd_action)return void h(a,b);if(a.access_token&&x.setSecure(/^https/.test(H)),a.cb){var d=M._callbacks[a.cb];M._forever[a.cb]||delete M._callbacks[a.cb],d&&d(a)}}}function k(a,b){if("facebook"==a)b.relation="parent.parent",C.enqueue(b);else{b.relation='parent.frames["'+a+'"]';var c=K[a];c?(t.debug("Enqueuing message for plugin %s in %s",a,c.protocol+"ProxyQueue"),("https"==c.protocol?E:D).enqueue(b)):(t.debug("Buffering message for plugin %s",a),v.get(a).enqueue(b))}}function l(a){if(!I){var b=p.appendHidden(e.createElement("div")),c=B.create({blacklist:null,root:b,channel:G,flashUrl:A.Flash.path,whenReady:function(d){o=d;var e={channel:G,origin:location.protocol+"//"+location.host,transport:c,xd_name:a},f="/"+A.XdUrl+"#"+u.encode(e),g=A.useCdn?y.resolve("cdn",!1):"http://www.facebook.com",h=A.useCdn?y.resolve("cdn",!0):"https://www.facebook.com";x.getSecure()!==!0&&(m=q({url:g+f,name:"fb_xdm_frame_http",id:"fb_xdm_frame_http",root:b,"aria-hidden":!0,title:J,"tab-index":-1})),n=q({url:h+f,name:"fb_xdm_frame_https",id:"fb_xdm_frame_https",root:b,"aria-hidden":!0,title:J,"tab-index":-1})},onMessage:i});I=!0}}var m,n,o,p=b("sdk.Content"),q=b("sdk.createIframe"),r=b("sdk.Event"),s=b("guid"),t=b("Log"),u=b("QueryString"),v=b("Queue"),w=b("sdk.RPC"),x=b("sdk.Runtime"),y=b("UrlMap"),z=b("URL"),A=c("XDConfig"),B=b("XDM"),C=new v,D=new v,E=new v,F=s(),G=s(),H=location.protocol+"//"+location.host,I=!1,J="Facebook Cross Domain Communication Frame",K={},L=new v;w.setInQueue(L),w.getOutQueue().start(function(a){k("facebook","FB_RPC:"+a)});var M={rpc:w,_callbacks:{},_forever:{},_channel:G,_origin:H,onMessage:i,recv:i,init:l,sendToFacebook:k,inform:function(a,b,c,d){k("facebook",{method:a,params:j("JSON","stringify",!1,b||{}),behavior:d||"p",relation:c})},handler:function(a,b,c,d){var e=A.useCdn?y.resolve("cdn","https:"==location.protocol):location.protocol+"//www.facebook.com";return e+"/"+A.XdUrl+"#"+u.encode({cb:this.registerCallback(a,c,d),origin:H+"/"+G,domain:location.hostname,relation:b||"opener"})},registerCallback:function(a,b,c){return c=c||s(),b&&(M._forever[c]=!0),M._callbacks[c]=a,c}};r.subscribe("init:post",function(a){l(a.xdProxyName)}),f.exports=M}),i("sdk.Auth",["sdk.Cookie","copyProperties","sdk.createIframe","DOMWrapper","sdk.feature","sdk.getContextType","guid","sdk.Impressions","Log","ObservableMixin","QueryString","sdk.Runtime","sdk.SignedRequest","UrlMap","URL","sdk.XD"],function(a,b,c,d,e){function g(a,b){var c=A.getUserID(),d="";if(a)if(a.userID)d=a.userID;else if(a.signedRequest){var e=B.parse(a.signedRequest);e&&e.user_id&&(d=e.user_id)}var f=A.getLoginStatus(),g="unknown"===f&&a||A.getUseCookie()&&A.getCookieUserID()!==d,h=c&&!a,i=a&&c&&c!=d,j=a!=m,k=b!=(f||"unknown");A.setLoginStatus(b),A.setAccessToken(a&&a.accessToken||null),A.setUserID(d),m=a;var l={authResponse:a,status:b};return(h||i)&&F.inform("logout",l),(g||i)&&F.inform("login",l),j&&F.inform("authresponse.change",l),k&&F.inform("status.change",l),l}function h(){return m}function i(a,b,c){return function(d){var e;if(d&&d.access_token){var f=B.parse(d.signed_request);if(b={accessToken:d.access_token,userID:f.user_id,expiresIn:parseInt(d.expires_in,10),signedRequest:d.signed_request},d.granted_scopes&&(b.grantedScopes=d.granted_scopes),A.getUseCookie()){var h=0===b.expiresIn?0:j("Date","now",!1)+1e3*b.expiresIn,i=p.getDomain();!i&&d.base_domain&&p.setDomain("."+d.base_domain),p.setSignedRequestCookie(d.signed_request,h)}e="connected",g(b,e)}else("logout"===c||"login_status"===c)&&(e=d.error&&"not_authorized"===d.error?"not_authorized":"unknown",g(null,e),A.getUseCookie()&&p.clearSignedRequestCookie());return d&&1==d.https&&A.setSecure(!0),a&&a({authResponse:b,status:A.getLoginStatus()}),b}}function k(a){var b,c=j("Date","now",!1);n&&(clearTimeout(n),n=null);var d=i(a,m,"login_status"),e=D(C.resolve("www",!0)+"/connect/ping").setSearch(z.encode({client_id:A.getClientID(),response_type:"token,signed_request,code",domain:location.hostname,origin:u(),redirect_uri:E.handler(function(a){if(t("e2e_ping_tracking",!0)){var e={init:c,close:j("Date","now",!1),method:"ping"};x.debug("e2e: %s",j("JSON","stringify",!1,e)),w.log(114,{payload:e})}b.parentNode.removeChild(b),d(a)&&(n=f(function(){k(function(){})},12e5))},"parent"),sdk:"joey",kid_directed_site:A.getKidDirectedSite()}));b=r({root:s.getRoot(),name:v(),url:e.toString(),style:{display:"none"}})}function l(a,b){if(!A.getClientID())return void x.warn("FB.getLoginStatus() called before calling FB.init().");if(a){if(!b&&"loaded"==o)return void a({status:A.getLoginStatus(),authResponse:h()});F.subscribe("FB.loginStatus",a)}if(b||"loading"!=o){o="loading";var c=function(a){o="loaded",F.inform("FB.loginStatus",a),F.clearSubscribers("FB.loginStatus")};k(c)}}var m,n,o,p=b("sdk.Cookie"),q=b("copyProperties"),r=b("sdk.createIframe"),s=b("DOMWrapper"),t=b("sdk.feature"),u=b("sdk.getContextType"),v=b("guid"),w=b("sdk.Impressions"),x=b("Log"),y=b("ObservableMixin"),z=b("QueryString"),A=b("sdk.Runtime"),B=b("sdk.SignedRequest"),C=b("UrlMap"),D=b("URL"),E=b("sdk.XD"),F=new y;q(F,{getLoginStatus:l,fetchLoginStatus:k,setAuthResponse:g,getAuthResponse:h,parseSignedRequest:B.parse,xdResponseWrapper:i}),e.exports=F}),i("invariant",[],function(a,b,c,d,e){function f(a){if(!a){var b=new Error("Minified exception occured, use the non-minified dev environment for the full error message and additional helpful warnings.");throw b.framesToPop=1,b}}e.exports=f}),i("toArray",["invariant"],function(a,b,c,d,e){function f(a){var b=a.length;if(g(!j("Array","isArray",!1,a)&&("object"==typeof a||"function"==typeof a)),g("number"==typeof b),g(0===b||b-1 in a),a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(c){}for(var d=Array(b),e=0;b>e;e++)d[e]=a[e];return d}var g=b("invariant");e.exports=f}),i("createArrayFrom",["toArray"],function(a,b,c,d,e){function f(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(j("Array","isArray",!1,a)||"callee"in a||"item"in a)}function g(a){return f(a)?j("Array","isArray",!1,a)?a.slice():h(a):[a]}var h=b("toArray");e.exports=g}),i("sdk.DOM",["Assert","createArrayFrom","sdk.domReady","UserAgent"],function(b,c,d,f,g){function h(a,b){var c=a.getAttribute(b)||a.getAttribute(b.replace(/_/g,"-"))||a.getAttribute(b.replace(/-/g,"_"))||a.getAttribute(b.replace(/-/g,""))||a.getAttribute(b.replace(/_/g,""))||a.getAttribute("data-"+b)||a.getAttribute("data-"+b.replace(/_/g,"-"))||a.getAttribute("data-"+b.replace(/-/g,"_"))||a.getAttribute("data-"+b.replace(/-/g,""))||a.getAttribute("data-"+b.replace(/_/g,""));return c?String(c):null}function i(a,b){var c=h(a,b);return c?/^(true|1|yes|on)$/.test(c):null}function k(a,b){v.isTruthy(a,"element not specified"),v.isString(b);try{return String(a[b])}catch(c){throw new Error("Could not read property "+b+" : "+c.message)}}function l(a,b){v.isTruthy(a,"element not specified"),v.isString(b);try{a.innerHTML=b}catch(c){throw new Error("Could not set innerHTML : "+c.message)}}function m(a,b){v.isTruthy(a,"element not specified"),v.isString(b);var c=" "+k(a,"className")+" ";return j(c,"indexOf",!0," "+b+" ")>=0}function n(a,b){v.isTruthy(a,"element not specified"),v.isString(b),m(a,b)||(a.className=k(a,"className")+" "+b)}function o(a,b){v.isTruthy(a,"element not specified"),v.isString(b);var c=new RegExp("\\s*"+b,"g");a.className=j(k(a,"className").replace(c,""),"trim",!0)}function p(a,b,c){if(v.isString(a),b=b||e.body,c=c||"*",b.querySelectorAll)return w(b.querySelectorAll(c+"."+a));for(var d=b.getElementsByTagName(c),f=[],g=0,h=d.length;h>g;g++)m(d[g],a)&&(f[f.length]=d[g]);return f}function q(a,b){v.isTruthy(a,"element not specified"),v.isString(b),b=b.replace(/-(\w)/g,function(a,b){return b.toUpperCase()});var c=a.currentStyle||e.defaultView.getComputedStyle(a,null),d=c[b];return/backgroundPosition?/.test(b)&&/top|left/.test(d)&&(d="0%"),d}function r(a,b,c){v.isTruthy(a,"element not specified"),v.isString(b),b=b.replace(/-(\w)/g,function(a,b){return b.toUpperCase()}),a.style[b]=c}function s(a,b){for(var c,d=!0,f=0;c=b[f++];)c in z||(d=!1,z[c]=!0);if(!d)if(y.ie())try{e.createStyleSheet().cssText=a}catch(g){e.styleSheets[0]&&(e.styleSheets[0].cssText+=a)}else{var h=e.createElement("style");h.type="text/css",h.textContent=a,e.getElementsByTagName("head")[0].appendChild(h)}}function t(){var b=e.documentElement&&"CSS1Compat"==e.compatMode?e.documentElement:e.body;return{scrollTop:b.scrollTop||e.body.scrollTop,scrollLeft:b.scrollLeft||e.body.scrollLeft,width:a.innerWidth?a.innerWidth:b.clientWidth,height:a.innerHeight?a.innerHeight:b.clientHeight}}function u(a){v.isTruthy(a,"element not specified");var b=0,c=0;do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:c}}var v=c("Assert"),w=c("createArrayFrom"),x=c("sdk.domReady"),y=c("UserAgent"),z={},A={containsCss:m,addCss:n,removeCss:o,getByClass:p,getStyle:q,setStyle:r,getAttr:h,getBoolAttr:i,getProp:k,html:l,addCssRules:s,getViewportInfo:t,getPosition:u,ready:x};g.exports=A}),i("sdk.Scribe",["UrlMap","QueryString"],function(a,b,c,d,e){function f(a,b){(new Image).src=h.appendToUrl(g.resolve("www",!0)+"/common/scribe_endpoint.php",{c:a,m:j("JSON","stringify",!1,b)})}var g=b("UrlMap"),h=b("QueryString"),i={log:f};e.exports=i}),i("sdk.ErrorHandling",["sdk.feature","ManagedError","sdk.Runtime","sdk.Scribe","UserAgent","wrapFunction"],function(b,c,d,e,h){function i(a){var b=a._originalError;throw delete a._originalError,r.log("jssdk_error",{appId:q.getClientID(),error:a.name||a.message,extra:a}),b}function k(a){var b={line:a.lineNumber||a.line,message:a.message,name:a.name,script:a.fileName||a.sourceURL||a.script,stack:a.stackTrace||a.stack};b._originalError=a,s.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(a.stack)&&(b.script=RegExp.$1,b.line=parseInt(RegExp.$2,10));for(var c in b)null==b[c]&&delete b[c];return b}function l(a,b){return function(){if(!u)return a.apply(this,arguments);try{return v=b,a.apply(this,arguments)}catch(c){if(c instanceof p)throw c;var d=k(c);d.entry=b;var e=j(Array.prototype.slice.call(arguments),"map",!0,function(a){var b=Object.prototype.toString.call(a);return/^\[object (String|Number|Boolean|Object|Date)\]$/.test(b)?a:a.toString()});d.args=j("JSON","stringify",!1,e).substring(0,200),i(d)}finally{v=""}}}function m(b){return b.__wrapper||(b.__wrapper=function(){try{return b.apply(this,arguments)}catch(c){return a.setTimeout(function(){throw c},0),!1}}),b.__wrapper}function n(a,b){return function(c,d){var e=b+":"+(v||"[global]")+":"+(c.name||"[anonymous]"+(arguments.callee.caller.name?"("+arguments.callee.caller.name+")":""));return a(t(c,"entry",e),d)}}var o=c("sdk.feature"),p=c("ManagedError"),q=c("sdk.Runtime"),r=c("sdk.Scribe"),s=c("UserAgent"),t=c("wrapFunction"),u=o("error_handling",!1),v="";u&&(f=n(f,"setTimeout"),g=n(g,"setInterval"),t.setWrapper(l,"entry"));var w={guard:l,unguard:m};h.exports=w}),i("sdk.Insights",["sdk.Impressions"],function(a,b,c,d,e){var f=b("sdk.Impressions"),g={TYPE:{NOTICE:"notice",WARNING:"warn",ERROR:"error"},CATEGORY:{DEPRECATED:"deprecated",APIERROR:"apierror"},log:function(a,b,c){var d={source:"jssdk",type:a,category:b,payload:c};f.log(113,d)},impression:f.impression};e.exports=g}),i("FB",["sdk.Auth","copyProperties","dotAccess","sdk.domReady","sdk.DOM","sdk.ErrorHandling","sdk.Content","DOMWrapper","GlobalCallback","sdk.Insights","Log","sdk.Runtime","sdk.Scribe","CssConfig","SDKConfig"],function(b,c,d,f,g){function h(a,b,c,d){var e;switch(/^_/.test(c)?e="hide":l&&!l[b]&&(e=B),e){case"hide":return;case"stub":return function(){x.warn("The method FB.%s has been removed from the JS SDK.",b)};default:return s.guard(function(){function c(a){return j("Array","isArray",!1,a)?j(a,"map",!0,c):a&&"object"==typeof a&&a.__wrapped?a.__wrapped:"function"==typeof a&&/^function/.test(a.toString())?s.unguard(a):a}"warn"===e&&(x.warn("The method FB.%s is not officially supported by Facebook and access to it will soon be removed.",b),C.hasOwnProperty(b)||(w.log(w.TYPE.WARNING,w.CATEGORY.DEPRECATED,"FB."+b),z.log("jssdk_error",{appId:y.getClientID(),error:"Private method used",extra:{args:b}}),C[b]=!0));
var f,g=j(Array.prototype.slice.call(arguments),"map",!0,c),i=a.apply(d,g),k=!0;if(i&&"object"==typeof i){var l=Function();l.prototype=i,f=new l,f.__wrapped=i;for(var m in i){var n=i[m];"function"==typeof n&&"constructor"!==m&&(k=!1,f[m]=h(n,b+":"+m,m,i))}}return k?k?i:f:f},b)}}function i(a,b){var c=a?p(k,a,!0):k;j(j("Object","keys",!1,b),"forEach",!0,function(d){var e=b[d];if("function"==typeof e){var f=(a?a+".":"")+d,g=h(e,f,d,b);g&&(c[d]=g)}})}var k,l,m=c("sdk.Auth"),n=c("copyProperties"),o=d("CssConfig"),p=c("dotAccess"),q=c("sdk.domReady"),r=c("sdk.DOM"),s=c("sdk.ErrorHandling"),t=c("sdk.Content"),u=c("DOMWrapper"),v=c("GlobalCallback"),w=c("sdk.Insights"),x=c("Log"),y=c("sdk.Runtime"),z=c("sdk.Scribe"),A=d("SDKConfig"),B=p(A,"api.mode"),C={};k=a.FB={};var D={};x.level=1,v.setPrefix("FB.__globalCallbacks");var E=e.createElement("div");u.setRoot(E),q(function(){x.info("domReady"),t.appendHidden(E),o.rules&&r.addCssRules(o.rules,o.components)}),y.subscribe("AccessToken.change",function(a){a||"connected"!==y.getLoginStatus()||m.getLoginStatus(null,!0)}),p(A,"api.whitelist.length")&&(l={},j(A.api.whitelist,"forEach",!0,function(a){l[a]=1})),y.setSecure(function(){var b=/iframe_canvas|app_runner/.test(a.name),c=/dialog/.test(a.name);return"https:"!=location.protocol||a!=top&&(b||c)?/_fb_https?/.test(a.name)?-1!=j(a.name,"indexOf",!0,"_fb_https"):void 0:!0}()),n(D,{provide:i}),g.exports=D}),i("ArgumentError",["ManagedError"],function(a,b,c,d,e){function f(){g.prototype.constructor.apply(this,arguments)}var g=b("ManagedError");f.prototype=new g,f.prototype.constructor=f,e.exports=f}),i("CORSRequest",["wrapFunction","QueryString"],function(a,b,c,e,f){function g(a,b){if(!d.XMLHttpRequest)return null;var c=new XMLHttpRequest,e=function(){};if("withCredentials"in c)c.open(a,b,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded");else{if(!d.XDomainRequest)return null;c=new XDomainRequest;try{c.open(a,b),c.onprogress=c.ontimeout=e}catch(f){return null}}var g={send:function(a){c.send(a)}},h=i(function(){h=e,"onload"in g&&g.onload(c)},"entry","XMLHttpRequest:load"),j=i(function(){j=e,"onerror"in g&&g.onerror(c)},"entry","XMLHttpRequest:error");return c.onload=function(){h()},c.onerror=function(){j()},c.onreadystatechange=function(){4==c.readyState&&(200==c.status?h():j())},g}function h(a,b,c,d){c.suppress_http_code=1;var e=k.encode(c);"post"!=b&&(a=k.appendToUrl(a,e),e="");var f=g(b,a);return f?(f.onload=function(a){d(j("JSON","parse",!1,a.responseText))},f.onerror=function(a){d(a.responseText?j("JSON","parse",!1,a.responseText):{error:{type:"http",message:"unknown error",status:a.status}})},f.send(e),!0):!1}var i=b("wrapFunction"),k=b("QueryString"),l={execute:h};f.exports=l}),i("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(a,b,c,d,e){function f(){if(!i)throw new Error("swfUrl has not been set");var a=n.create(function(){h.start(function(a){var b=k.execute(a.method,a.url,a.body);if(!b)throw new Error("Could create request");q[b]=a.callback})}),b=n.create(function(a,b,c){var d;try{d=j("JSON","parse",!1,decodeURIComponent(c))}catch(e){d={error:{type:"SyntaxError",message:e.message,status:b,raw:c}}}q[a](d),delete q[a]});k=m.embed(i,l.getRoot(),null,{log:!1,initCallback:a,requestCallback:b})}function g(a,b,c,d){c.suppress_http_code=1,c.method||(c.method=b);var e=o.encode(c);if("get"===b&&a.length+e.length<2e3?(a=o.appendToUrl(a,e),e=""):b="post",!h){if(!m.isAvailable())return!1;h=new p,f()}return h.enqueue({method:b,url:a,body:e,callback:d}),!0}var h,i,k,l=b("DOMWrapper"),m=b("Flash"),n=b("GlobalCallback"),o=b("QueryString"),p=b("Queue"),q={},r={setSwfUrl:function(a){i=a},execute:g};e.exports=r}),i("flattenObject",[],function(a,b,c,d,e){function f(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(null===d||void 0===d)continue;b[c]="string"==typeof d?d:j("JSON","stringify",!1,d)}return b}e.exports=f}),i("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(a,b,c,d,g){function h(a,b,c,d){var g=e.createElement("script"),h=function(a){h=function(){},j.remove(c.callback),d(a),g.parentNode.removeChild(g)};if(c.callback=j.create(h),c.method||(c.method=b),a=k.appendToUrl(a,c),a.length>2e3)return j.remove(c.callback),!1;g.onerror=function(){h({error:{type:"http",message:"unknown error"}})};var l=function(){f(function(){h({error:{type:"http",message:"unknown error"}})},0)};return g.addEventListener?g.addEventListener("load",l,!1):g.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&l()},g.src=a,i.getRoot().appendChild(g),!0}var i=b("DOMWrapper"),j=b("GlobalCallback"),k=b("QueryString"),l={execute:h};g.exports=l}),i("keyMirror",["invariant"],function(a,b,c,d,e){"use strict";var f=b("invariant"),g=function(a){var b,c={};f(a instanceof Object&&!j("Array","isArray",!1,a));for(b in a)a.hasOwnProperty(b)&&(c[b]=b);return c};e.exports=g}),i("mergeHelpers",["invariant","keyMirror"],function(a,b,c,d,e){"use strict";var f=b("invariant"),g=b("keyMirror"),h=36,i=function(a){return"object"!=typeof a||null===a},k={MAX_MERGE_DEPTH:h,isTerminal:i,normalizeMergeArg:function(a){return void 0===a||null===a?{}:a},checkMergeArrayArgs:function(a,b){f(j("Array","isArray",!1,a)&&j("Array","isArray",!1,b))},checkMergeObjectArgs:function(a,b){k.checkMergeObjectArg(a),k.checkMergeObjectArg(b)},checkMergeObjectArg:function(a){f(!i(a)&&!j("Array","isArray",!1,a))},checkMergeLevel:function(a){f(h>a)},checkArrayStrategy:function(a){f(void 0===a||a in k.ArrayStrategies)},ArrayStrategies:g({Clobber:!0,IndexByIndex:!0})};e.exports=k}),i("mergeInto",["mergeHelpers"],function(a,b,c,d,e){"use strict";function f(a,b){if(h(a),null!=b){h(b);for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}}var g=b("mergeHelpers"),h=g.checkMergeObjectArg;e.exports=f}),i("merge",["mergeInto"],function(a,b,c,d,e){"use strict";var f=b("mergeInto"),g=function(a,b){var c={};return f(c,a),f(c,b),c};e.exports=g}),i("ApiClient",["ArgumentError","Assert","copyProperties","CORSRequest","FlashRequest","flattenObject","JSONPRequest","Log","merge","ObservableMixin","sprintf","URL","UrlMap","ApiClientConfig"],function(a,b,c,d,e){function f(a,b,c,d){m&&(c=p({},m,c)),c.access_token=c.access_token||k,c.pretty=c.pretty||0,c=s(c);var e,f={jsonp:t,cors:q,flash:r};c.transport?(e=[c.transport],delete c.transport):e=["jsonp","cors","flash"];for(var g=0;g<e.length;g++){var h=f[e[g]],i=p({},c);if(h.execute(a,b,i,d))return}d({error:{type:"no-transport",message:"Could not find a usable transport for request"}})}function g(a,b,c,d,e){D.inform("request.complete",b,c,d,e),a&&a(e)}function h(a){o.isString(a,"Invalid path");var b,c={};try{b=new y(a)}catch(d){throw new n(d.message,d)}j(Array.prototype.slice.call(arguments,1),"forEach",!0,function(a){c[typeof a]=a});var e=(c.string||"get").toLowerCase(),h=v(c.object||{},b.getParsedSearch()),i=c["function"];i||u.warn("No callback passed to the ApiClient");var k=j(g,"bind",!0,null,i,b.getPath(),e,h);o.isTrue(e in B,x("Invalid method passed to ApiClient: %s",e)),h.method=e,b=z.resolve("graph")+b.getPath(),f(b,"get"==e?"get":"post",h,k)}function i(a,b){o.isObject(a),o.isString(a.method,"method missing"),b||u.warn("No callback passed to the ApiClient");var c=a.method.toLowerCase().replace(".","_");a.format="json-strings",a.api_key=l;var d=c in C?"api_read":"api",e=z.resolve(d)+"/restserver.php",h=j(g,"bind",!0,null,b,"/restserver.php","get",a);f(e,"get",a,h)}var k,l,m,n=b("ArgumentError"),o=b("Assert"),p=b("copyProperties"),q=b("CORSRequest"),r=b("FlashRequest"),s=b("flattenObject"),t=b("JSONPRequest"),u=b("Log"),v=b("merge"),w=b("ObservableMixin"),x=b("sprintf"),y=b("URL"),z=b("UrlMap"),A=b("ApiClientConfig"),B={get:!0,post:!0,"delete":!0,put:!0},C={fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},D=p(new w,{setAccessToken:function(a){k=a},setClientID:function(a){l=a},setDefaultParams:function(a){m=a},rest:i,graph:h});r.setSwfUrl(A.FlashRequest.swfUrl),e.exports=D}),i("sdk.api",["ApiClient","sdk.Runtime"],function(a,b,c,d,e){function f(){"string"==typeof arguments[0]?h.graph.apply(h,arguments):h.rest.apply(h,arguments)}var g,h=b("ApiClient"),i=b("sdk.Runtime");i.subscribe("ClientID.change",function(a){h.setClientID(a)}),i.subscribe("AccessToken.change",function(a){g=a,h.setAccessToken(a)}),h.setDefaultParams({sdk:"joey"}),h.subscribe("request.complete",function(a,b,c,d){var e=!1;d&&"object"==typeof d&&(d.error?("invalid_token"==d.error||"OAuthException"==d.error.type&&190==d.error.code)&&(e=!0):d.error_code&&"190"==d.error_code&&(e=!0)),e&&g===i.getAccessToken()&&i.setAccessToken(null)}),h.subscribe("request.complete",function(a,b,c,d){("/me/permissions"==a&&"delete"===b||"/restserver.php"==a&&"Auth.revokeAuthorization"==c.method)&&d===!0&&i.setAccessToken(null)}),e.exports=f}),i("legacy:fb.api",["FB","sdk.api"],function(a,b){var c=b("FB"),d=b("sdk.api");c.provide("",{api:d})},3),i("sdk.Canvas.Environment",["sdk.RPC"],function(a,b,c,d,e){function f(a){h.remote.getPageInfo(function(b){a(b.result)})}function g(a,b){h.remote.scrollTo({x:a||0,y:b||0})}var h=b("sdk.RPC");h.stub("getPageInfo"),h.stub("scrollTo");var i={getPageInfo:f,scrollTo:g};e.exports=i}),i("sdk.Intl",["Log"],function(a,b,c,d,e){function f(a){return"string"!=typeof a?!1:!!a.match(new RegExp(j+"[)\"'»༻༽’”›〉》」』】〕〗〙〛〞〟﴿＇）］\\s]*$"))}function g(a,b){if(void 0!==b)if("object"!=typeof b)i.error("The second arg to FB.Intl.tx() must be an Object for FB.Intl.tx("+a+", ...)");else{var c;for(var d in b)b.hasOwnProperty(d)&&(c=f(b[d])?new RegExp("\\{"+d+"\\}"+j+"*","g"):new RegExp("\\{"+d+"\\}","g"),a=a.replace(c,b[d]))}return a}function h(){throw new Error("Placeholder function")}var i=b("Log"),j="[.!?。！？।…ຯ᠁ฯ．]";h._=g,e.exports={tx:h}}),i("sdk.Dialog",["sdk.Canvas.Environment","sdk.Content","sdk.DOM","DOMEventListener","sdk.Intl","ObservableMixin","sdk.Runtime","Type","UserAgent","sdk.feature"],function(b,c,d,g,h){function i(){if(t("dialog_resize_refactor")){var a=m.getViewportInfo();if(a.height&&a.width)return{width:Math.min(a.width,u),height:Math.min(a.height,v)}}return null}var k=c("sdk.Canvas.Environment"),l=c("sdk.Content"),m=c("sdk.DOM"),n=c("DOMEventListener"),o=c("sdk.Intl"),p=c("ObservableMixin"),q=c("sdk.Runtime"),r=c("Type"),s=c("UserAgent"),t=c("sdk.feature"),u=590,v=500,w=240,x=575,y=function(){var a;if(t("dialog_resize_refactor")){var b=i();a=b&&(b.height>=u||b.width>=v)}else a=s.ipad();return y=function(){return a},a},z=r.extend({constructor:function(a,b){this.parent(),this.id=a,this.display=b,this._e2e={},A._dialogs||(A._dialogs={},A._addOrientationHandler()),A._dialogs[a]=this,this.trackEvent("init")},trackEvent:function(a,b){return this._e2e[a]?this:(this._e2e[a]=b||j("Date","now",!1),"close"==a&&this.inform("e2e:end",this._e2e),this)},trackEvents:function(a){"string"==typeof a&&(a=j("JSON","parse",!1,a));for(var b in a)a.hasOwnProperty(b)&&this.trackEvent(b,a[b]);return this}},p),A={newInstance:function(a,b){return new z(a,b)},_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(a){return A._dialogs[a]},_findRoot:function(a){for(;a;){if(m.containsCss(a,"fb_dialog"))return a;a=a.parentNode}},_createWWWLoader:function(a){return a=a?a:460,A.create({content:'<div class="dialog_title">  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>',width:a})},_createMobileLoader:function(){var a=s.nativeApp()?"":'<table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+o.tx._("Cancel")+'"            id="fb_dialog_loader_close"/>        </label>      </td>      <td class="header_center">        <div>'+o.tx._("Loading...")+'</div>      </td>      <td class="header_right">      </td>    </tr>  </tbody></table>';return A.create({classes:"loading"+(y()?" centered":""),content:'<div class="dialog_header">'+a+"</div>"})},_restoreBodyPosition:function(){if(!y()){var a=e.getElementsByTagName("body")[0];m.removeCss(a,"fb_hidden")}},_showTabletOverlay:function(){y()&&(A._overlayEl||(A._overlayEl=e.createElement("div"),A._overlayEl.setAttribute("id","fb_dialog_ipad_overlay"),l.append(A._overlayEl,null)),A._overlayEl.className="")},_hideTabletOverlay:function(){y()&&(A._overlayEl.className="hidden")},showLoader:function(a,b){A._showTabletOverlay(),A._loaderEl||(A._loaderEl=A._findRoot(s.mobile()?A._createMobileLoader():A._createWWWLoader(b))),a||(a=function(){});var c=e.getElementById("fb_dialog_loader_close");m.removeCss(c,"fb_hidden"),c.onclick=function(){A._hideLoader(),A._restoreBodyPosition(),A._hideTabletOverlay(),a()};var d=e.getElementById("fb_dialog_ipad_overlay");d&&(d.ontouchstart=c.onclick),A._makeActive(A._loaderEl)},_hideLoader:function(){A._loaderEl&&A._loaderEl==A._active&&(A._loaderEl.style.top="-10000px")},_makeActive:function(a){A._setDialogSizes(),A._lowerActive(),A._active=a,q.isEnvironment(q.ENVIRONMENTS.CANVAS)&&k.getPageInfo(function(a){A._centerActive(a)}),A._centerActive()},_lowerActive:function(){A._active&&(A._active.style.top="-10000px",A._active=null)},_removeStacked:function(a){A._stack=j(A._stack,"filter",!0,function(b){return b!=a})},_centerActive:function(a){var b=A._active;if(b){var c=m.getViewportInfo(),d=parseInt(b.offsetWidth,10),f=parseInt(b.offsetHeight,10),g=c.scrollLeft+(c.width-d)/2,h=(c.height-f)/2.5;h>g&&(h=g);var i=c.height-f-h,j=(c.height-f)/2;if(a&&(j=a.scrollTop-a.offsetTop+(a.clientHeight-f)/2),h>j?j=h:j>i&&(j=i),j+=c.scrollTop,s.mobile()){var k=100;if(y())k+=(c.height-f)/2;else{var l=e.getElementsByTagName("body")[0];m.addCss(l,"fb_hidden"),t("dialog_resize_refactor")&&(l.style.width="auto"),j=1e4}var n=m.getByClass("fb_dialog_padding",b);n.length&&(n[0].style.height=k+"px")}b.style.left=(g>0?g:0)+"px",b.style.top=(j>0?j:0)+"px"}},_setDialogSizes:function(){if(s.mobile()&&!y())for(var a in A._dialogs)if(A._dialogs.hasOwnProperty(a)){var b=e.getElementById(a);b&&(b.style.width=A.getDefaultSize().width+"px",b.style.height=A.getDefaultSize().height+"px")}},getDefaultSize:function(){if(s.mobile()){var b=i();if(b)return b;if(s.ipad())return{width:v,height:u};if(s.android())return{width:screen.availWidth,height:screen.availHeight};var c=a.innerWidth,d=a.innerHeight,e=c/d>1.2;return{width:c,height:Math.max(d,e?screen.width:screen.height)}}return{width:x,height:w}},_handleOrientationChange:function(){var a=t("dialog_resize_refactor",!1)?m.getViewportInfo().width:screen.availWidth;if(s.android()&&a==A._availScreenWidth)return void f(A._handleOrientationChange,50);if(A._availScreenWidth=a,y())A._centerActive();else{var b=A.getDefaultSize().width;for(var c in A._dialogs)if(A._dialogs.hasOwnProperty(c)){var d=e.getElementById(c);d&&(d.style.width=b+"px")}}},_addOrientationHandler:function(){if(s.mobile()){var b="onorientationchange"in a?"orientationchange":"resize";A._availScreenWidth=t("dialog_resize_refactor",!1)?m.getViewportInfo().width:screen.availWidth,n.add(a,b,A._handleOrientationChange)}},create:function(a){a=a||{};var b=e.createElement("div"),c=e.createElement("div"),d="fb_dialog";if(a.closeIcon&&a.onClose){var f=e.createElement("a");f.className="fb_dialog_close_icon",f.onclick=a.onClose,b.appendChild(f)}d+=" "+(a.classes||""),s.ie()?(d+=" fb_dialog_legacy",j(["vert_left","vert_right","horiz_top","horiz_bottom","top_left","top_right","bottom_left","bottom_right"],"forEach",!0,function(a){var c=e.createElement("span");c.className="fb_dialog_"+a,b.appendChild(c)})):d+=s.mobile()?" fb_dialog_mobile":" fb_dialog_advanced",a.content&&l.append(a.content,c),b.className=d;var g=parseInt(a.width,10);if(isNaN(g)||(b.style.width=g+"px"),c.className="fb_dialog_content",b.appendChild(c),s.mobile()){var h=e.createElement("div");h.className="fb_dialog_padding",b.appendChild(h)}return l.append(b),a.visible&&A.show(b),c},show:function(a){var b=A._findRoot(a);b&&(A._removeStacked(b),A._hideLoader(),A._makeActive(b),A._stack.push(b),"fbCallID"in a&&A.get(a.fbCallID).inform("iframe_show").trackEvent("show"))},hide:function(a){var b=A._findRoot(a);A._hideLoader(),b==A._active&&(A._lowerActive(),A._restoreBodyPosition(),A._hideTabletOverlay(),"fbCallID"in a&&A.get(a.fbCallID).inform("iframe_hide").trackEvent("hide"))},remove:function(a){if(a=A._findRoot(a)){var b=A._active==a;A._removeStacked(a),b?(A._hideLoader(),A._stack.length>0?A.show(A._stack.pop()):(A._lowerActive(),A._restoreBodyPosition(),A._hideTabletOverlay())):null===A._active&&A._stack.length>0&&A.show(A._stack.pop()),f(function(){a.parentNode.removeChild(a)},3e3)}},isActive:function(a){var b=A._findRoot(a);return b&&b===A._active}};h.exports=A}),i("sdk.Frictionless",["sdk.Auth","sdk.api","sdk.Event","sdk.Dialog"],function(a,b,c,d,e){var f=b("sdk.Auth"),g=b("sdk.api"),h=b("sdk.Event"),i=b("sdk.Dialog"),k={_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){k._allowedRecipients={},g("/me/apprequestformerrecipients",function(a){a&&!a.error&&j(a.data,"forEach",!0,function(a){k._allowedRecipients[a.recipient_id]=!0})})},init:function(){k._useFrictionless=!0,f.getLoginStatus(function(a){"connected"==a.status&&k._updateRecipients()}),h.subscribe("auth.login",function(a){a.authResponse&&k._updateRecipients()})},_processRequestResponse:function(a,b){return function(c){var d=c&&c.updated_frictionless;k._useFrictionless&&d&&k._updateRecipients(),c&&(!b&&c.frictionless&&(i._hideLoader(),i._restoreBodyPosition(),i._hideIPadOverlay()),delete c.frictionless,delete c.updated_frictionless),a&&a(c)}},isAllowed:function(a){if(!a)return!1;if("number"==typeof a)return a in k._allowedRecipients;"string"==typeof a&&(a=a.split(",")),a=j(a,"map",!0,function(a){return j(String(a),"trim",!0)});var b=!0,c=!1;return j(a,"forEach",!0,function(a){b=b&&a in k._allowedRecipients,c=!0}),b&&c}};h.subscribe("init:post",function(a){a.frictionlessRequests&&k.init()}),e.exports=k}),i("insertIframe",["guid","GlobalCallback"],function(a,b,c,d,g){function h(a){a.id=a.id||i(),a.name=a.name||i();var b=!1,c=!1,d=function(){b&&!c&&(c=!0,a.onload&&a.onload(a.root.firstChild))},g=j.create(d);if(e.attachEvent){var h='<iframe id="'+a.id+'" name="'+a.name+'"'+(a.title?' title="'+a.title+'"':"")+(a.className?' class="'+a.className+'"':"")+' style="border:none;'+(a.width?"width:"+a.width+"px;":"")+(a.height?"height:"+a.height+"px;":"")+'" src="javascript:false;" frameborder="0" scrolling="no" allowtransparency="true" onload="'+g+'()"></iframe>';a.root.innerHTML='<iframe src="javascript:false" frameborder="0" scrolling="no" style="height:1px"></iframe>',b=!0,f(function(){a.root.innerHTML=h,a.root.firstChild.src=a.url,a.onInsert&&a.onInsert(a.root.firstChild)},0)}else{var k=e.createElement("iframe");k.id=a.id,k.name=a.name,k.onload=d,k.scrolling="no",k.style.border="none",k.style.overflow="hidden",a.title&&(k.title=a.title),a.className&&(k.className=a.className),void 0!==a.height&&(k.style.height=a.height+"px"),void 0!==a.width&&(k.style.width="100%"==a.width?a.width:a.width+"px"),a.root.appendChild(k),b=!0,k.src=a.url,a.onInsert&&a.onInsert(k)}}var i=b("guid"),j=b("GlobalCallback");g.exports=h}),i("sdk.Native",["copyProperties","Log","UserAgent"],function(b,c,d,e,f){var g=c("copyProperties"),h=c("Log"),i=c("UserAgent"),j="fbNativeReady",k={onready:function(b){if(!i.nativeApp())return void h.error("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()");if(a.__fbNative&&!this.nativeReady&&g(this,a.__fbNative),this.nativeReady)b();else{var c=function(){a.removeEventListener(j,c),this.onready(b)};a.addEventListener(j,c,!1)}}};f.exports=k}),i("resolveURI",[],function(b,c,d,f,g){function h(b){if(!b)return a.location.href;b=b.replace(/&/g,"&amp;").replace(/"/g,"&quot;");var c=e.createElement("div");return c.innerHTML='<a href="'+b+'"></a>',c.firstChild.href}g.exports=h}),i("sdk.UIServer",["sdk.Auth","sdk.Content","copyProperties","sdk.Dialog","sdk.DOM","sdk.Event","flattenObject","sdk.Frictionless","sdk.getContextType","guid","insertIframe","Log","sdk.Native","QueryString","resolveURI","sdk.RPC","sdk.Runtime","UrlMap","UserAgent","sdk.XD","SDKConfig"],function(b,c,d,h,i){var k=c("sdk.Auth"),l=c("sdk.Content"),m=c("copyProperties"),n=c("sdk.Dialog"),o=c("sdk.DOM"),p=c("sdk.Event"),q=c("flattenObject"),r=c("sdk.Frictionless"),s=c("sdk.getContextType"),t=c("guid"),u=c("insertIframe"),v=c("Log"),w=c("sdk.Native"),x=c("QueryString"),y=c("resolveURI"),z=c("sdk.RPC"),A=c("sdk.Runtime"),B=d("SDKConfig"),C=c("UrlMap"),D=c("UserAgent"),E=c("sdk.XD"),F={transform:function(b){return"touch"===b.params.display&&b.params.access_token&&a.postMessage?(b.params.channel=H._xdChannelHandler(b.id,"parent"),D.nativeApp()||(b.params.in_iframe=1),b):H.genericTransform(b)},getXdRelation:function(b){var c=b.display;return"touch"===c&&a.postMessage&&b.in_iframe?"parent":H.getXdRelation(b)}},G={"stream.share":{size:{width:670,height:340},url:"sharer.php",transform:function(b){return b.params.u||(b.params.u=a.location.toString()),b.params.display="popup",b}},apprequests:{transform:function(a){return a=F.transform(a),a.params.frictionless=r&&r._useFrictionless,a.params.frictionless&&(r.isAllowed(a.params.to)&&(a.params.display="iframe",a.params.in_iframe=!0,a.hideLoader=!0),a.cb=r._processRequestResponse(a.cb,a.hideLoader)),a.closeIcon=!1,a},getXdRelation:F.getXdRelation},feed:F,"permissions.oauth":{url:"dialog/oauth",size:{width:D.mobile()?null:475,height:D.mobile()?null:183},transform:function(a){if(!A.getClientID())return void v.error("FB.login() called before FB.init().");if(k.getAuthResponse()&&!a.params.scope&&!a.params.auth_type)return v.error("FB.login() called when user is already connected."),void(a.cb&&a.cb({status:A.getLoginStatus(),authResponse:k.getAuthResponse()}));var b=a.cb,c=a.id;return delete a.cb,"async"===a.params.display?(m(a.params,{client_id:A.getClientID(),origin:s(),response_type:"token,signed_request",domain:location.hostname}),a.cb=k.xdResponseWrapper(b,k.getAuthResponse(),"permissions.oauth")):m(a.params,{client_id:A.getClientID(),redirect_uri:y(H.xdHandler(b,c,"opener",k.getAuthResponse(),"permissions.oauth")),origin:s(),response_type:"token,signed_request",domain:location.hostname}),a}},"auth.logout":{url:"logout.php",transform:function(a){if(A.getClientID()){if(k.getAuthResponse())return a.params.next=H.xdHandler(a.cb,a.id,"parent",k.getAuthResponse(),"logout"),a;v.error("FB.logout() called without an access token.")}else v.error("FB.logout() called before calling FB.init().")}},"login.status":{url:"dialog/oauth",transform:function(a){var b=a.cb,c=a.id;return delete a.cb,m(a.params,{client_id:A.getClientID(),redirect_uri:H.xdHandler(b,c,"parent",k.getAuthResponse(),"login_status"),origin:s(),response_type:"token,signed_request,code",domain:location.hostname}),a}}},H={Methods:G,_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',genericTransform:function(a){return("dialog"==a.params.display||"iframe"==a.params.display)&&m(a.params,{display:"iframe",channel:H._xdChannelHandler(a.id,"parent.parent")},!0),a},checkOauthDisplay:function(a){var b=a.scope||a.perms||A.getScope();if(!b)return a.display;for(var c=b.split(/\s|,/g),d=0;d<c.length;d++)if(!B.initSitevars.iframePermissions[j(c[d],"trim",!0)])return"popup";return a.display},prepareCall:function(a,b){var c=a.method.toLowerCase(),d=m({},H.Methods[c]),e=t(),f=A.getSecure()||"auth.status"!==c&&"login.status"!=c;m(a,{app_id:A.getClientID(),locale:A.getLocale(),sdk:"joey",access_token:f&&A.getAccessToken()||void 0}),a.display=H.getDisplayMode(d,a),d.url||(d.url="dialog/"+c),"dialog/oauth"!=d.url&&"dialog/permissions.request"!=d.url||!("iframe"==a.display||"touch"==a.display&&a.in_iframe)||(a.display=H.checkOauthDisplay(a));var g={cb:b,id:e,size:d.size||H.getDefaultSize(),url:C.resolve("touch"==a.display?"m":"www",f)+"/"+d.url,params:a,name:c,dialog:n.newInstance(e,a.display)},h=d.transform?d.transform:H.genericTransform;if(!h||(g=h(g))){var i=d.getXdRelation||H.getXdRelation,j=i(g.params);return g.id in H._defaultCb||"next"in g.params||"redirect_uri"in g.params||(g.params.next=H._xdResult(g.cb,g.id,j,!0)),"parent"===j&&m(g.params,{channel_url:H._xdChannelHandler(e,"parent.parent")},!0),g=H.prepareParams(g)}},prepareParams:function(a){a.params.method;"async"!==a.params.display&&delete a.params.method,a.params=q(a.params);var b=x.encode(a.params);return!D.nativeApp()&&H.urlTooLongForIE(a.url+"?"+b)?a.post=!0:b&&(a.url+="?"+b),a},urlTooLongForIE:function(a){return a.length>2e3},getDisplayMode:function(a,b){if("hidden"===b.display||"none"===b.display)return b.display;var c=A.isEnvironment(A.ENVIRONMENTS.CANVAS)||A.isEnvironment(A.ENVIRONMENTS.PAGETAB);return c&&!b.display?"async":D.mobile()||"touch"===b.display?"touch":A.getAccessToken()||"dialog"!=b.display||a.loggedOutIframe?a.connectDisplay&&!c?a.connectDisplay:b.display||(A.getAccessToken()?"dialog":"popup"):(v.error('"dialog" mode can only be used when the user is connected.'),"popup")},getXdRelation:function(b){var c=b.display;return"popup"===c||"touch"===c?"opener":"dialog"===c||"iframe"===c||"hidden"===c||"none"===c?"parent":"async"===c?"parent.frames["+a.name+"]":void 0},popup:function(b){var c="undefined"!=typeof a.screenX?a.screenX:a.screenLeft,d="undefined"!=typeof a.screenY?a.screenY:a.screenTop,f="undefined"!=typeof a.outerWidth?a.outerWidth:e.documentElement.clientWidth,g="undefined"!=typeof a.outerHeight?a.outerHeight:e.documentElement.clientHeight-22,h=D.mobile()?null:b.size.width,i=D.mobile()?null:b.size.height,j=0>c?a.screen.width+c:c,k=parseInt(j+(f-h)/2,10),m=parseInt(d+(g-i)/2.5,10),n=[];null!==h&&n.push("width="+h),null!==i&&n.push("height="+i),n.push("left="+k),n.push("top="+m),n.push("scrollbars=1"),("permissions.request"==b.name||"permissions.oauth"==b.name)&&n.push("location=1,toolbar=0"),n=n.join(",");var o;b.post?(o=a.open("about:blank",b.id,n),o&&(H.setLoadedNode(b,o,"popup"),l.submitToTarget({url:b.url,target:b.id,params:b.params}))):(o=a.open(b.url,b.id,n),o&&H.setLoadedNode(b,o,"popup")),o&&b.id in H._defaultCb&&H._popupMonitor()},setLoadedNode:function(a,b,c){a.params&&"popup"!=a.params.display&&(b.fbCallID=a.id),b={node:b,type:c,fbCallID:a.id},H._loadedNodes[a.id]=b},getLoadedNode:function(a){var b="object"==typeof a?a.id:a,c=H._loadedNodes[b];return c?c.node:null},hidden:function(a){a.className="FB_UI_Hidden",a.root=l.appendHidden(""),H._insertIframe(a)},iframe:function(a){a.className="FB_UI_Dialog";var b=function(){H._triggerDefault(a.id)};a.root=n.create({onClose:b,closeIcon:void 0===a.closeIcon?!0:a.closeIcon,classes:D.ipad()?"centered":""}),a.hideLoader||n.showLoader(b,a.size.width),o.addCss(a.root,"fb_dialog_iframe"),H._insertIframe(a)},touch:function(a){a.params&&a.params.in_iframe?a.ui_created?n.showLoader(function(){H._triggerDefault(a.id)},0):H.iframe(a):D.nativeApp()&&!a.ui_created?(a.frame=a.id,w.onready(function(){H.setLoadedNode(a,w.open(a.url+"#cb="+a.frameName),"native")}),H._popupMonitor()):a.ui_created||H.popup(a)},async:function(a){a.params.redirect_uri=location.protocol+"//"+location.host+location.pathname,delete a.params.access_token,z.remote.showDialog(a.params,function(b){var c=b.result;if(c&&c.e2e){var d=n.get(a.id);d.trackEvents(c.e2e),d.trackEvent("close"),delete c.e2e}a.cb(c)})},getDefaultSize:function(){return n.getDefaultSize()},_insertIframe:function(a){H._loadedNodes[a.id]=!1;var b=function(b){a.id in H._loadedNodes&&H.setLoadedNode(a,b,"iframe")};u(a.post?{url:"about:blank",root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,onInsert:b,onload:function(b){l.submitToTarget({url:a.url,target:b.name,params:a.params})}}:{url:a.url,root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,name:a.frameName,onInsert:b})},_handleResizeMessage:function(a,b){var c=H.getLoadedNode(a);c&&(b.height&&(c.style.height=b.height+"px"),b.width&&(c.style.width=b.width+"px"),E.inform("resize.ack",b||{},"parent.frames["+c.name+"]"),n.isActive(c)||n.show(c))},_triggerDefault:function(a){H._xdRecv({frame:a},H._defaultCb[a]||function(){})},_popupMonitor:function(){var a;for(var b in H._loadedNodes)if(H._loadedNodes.hasOwnProperty(b)&&b in H._defaultCb){var c=H._loadedNodes[b];if("popup"!=c.type&&"native"!=c.type)continue;var d=c.node;try{d.closed?H._triggerDefault(b):a=!0}catch(e){}}a&&!H._popupInterval?H._popupInterval=g(H._popupMonitor,100):!a&&H._popupInterval&&(clearInterval(H._popupInterval),H._popupInterval=null)},_xdChannelHandler:function(a,b){return E.handler(function(b){var c=H.getLoadedNode(a);if(c)if("resize"==b.type)H._handleResizeMessage(a,b);else if("hide"==b.type)n.hide(c);else if("rendered"==b.type){var d=n._findRoot(c);n.show(d)}else"fireevent"==b.type&&p.fire(b.event)},b,!0,null)},_xdNextHandler:function(a,b,c,d){return d&&(H._defaultCb[b]=a),E.handler(function(b){H._xdRecv(b,a)},c)+"&frame="+b},_xdRecv:function(b,c){var d=H.getLoadedNode(b.frame);if(d)if(d.close)try{d.close(),/iPhone.*Version\/(5|6)/.test(navigator.userAgent)&&"5"!==RegExp.$1&&a.focus(),H._popupCount--}catch(e){}else o.containsCss(d,"FB_UI_Hidden")?f(function(){d.parentNode.parentNode.removeChild(d.parentNode)},3e3):o.containsCss(d,"FB_UI_Dialog")&&n.remove(d);if(delete H._loadedNodes[b.frame],delete H._defaultCb[b.frame],b.e2e){var g=n.get(b.frame);g.trackEvents(b.e2e),g.trackEvent("close"),delete b.e2e}c(b)},_xdResult:function(a,b,c,d){return H._xdNextHandler(function(b){a&&a(b.result&&b.result!=H._resultToken&&j("JSON","parse",!1,b.result))},b,c,d)+"&result="+encodeURIComponent(H._resultToken)},xdHandler:function(a,b,c,d,e){return H._xdNextHandler(k.xdResponseWrapper(a,d,e),b,c,!0)}};z.stub("showDialog"),i.exports=H}),i("sdk.ui",["Assert","copyProperties","sdk.feature","sdk.Impressions","Log","sdk.UIServer"],function(a,b,c,d,e){function f(a,b){if(g.isObject(a),g.maybeFunction(b),a=h({},a),!a.method)return l.error('"method" is a required parameter for FB.ui().'),null;var c=a.method;a.redirect_uri&&(l.warn("When using FB.ui, you should not specify a redirect_uri."),delete a.redirect_uri),"permissions.request"!=c&&"permissions.oauth"!=c||"iframe"!=a.display&&"dialog"!=a.display||(a.display=m.checkOauthDisplay(a));var d=i("e2e_tracking",!0);d&&(a.e2e={});var e=m.prepareCall(a,b||function(){});if(!e)return null;var f=e.params.display;"dialog"===f?f="iframe":"none"===f&&(f="hidden");var n=m[f];return n?(d&&e.dialog.subscribe("e2e:end",function(a){a.method=c,a.display=f,l.debug("e2e: %s",j("JSON","stringify",!1,a)),k.log(114,{payload:a})}),n(e),e.dialog):(l.error('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"'),null)}var g=b("Assert"),h=b("copyProperties"),i=b("sdk.feature"),k=b("sdk.Impressions"),l=b("Log"),m=b("sdk.UIServer");e.exports=f}),i("legacy:fb.auth",["sdk.Auth","sdk.Cookie","copyProperties","sdk.Event","FB","Log","sdk.Runtime","sdk.SignedRequest","sdk.ui"],function(a,b){var c=b("sdk.Auth"),d=b("sdk.Cookie"),e=b("copyProperties"),f=b("sdk.Event"),g=b("FB"),h=b("Log"),i=b("sdk.Runtime"),k=b("sdk.SignedRequest"),l=b("sdk.ui");g.provide("",{getLoginStatus:function(){return c.getLoginStatus.apply(c,arguments)},getAuthResponse:function(){return c.getAuthResponse()},getAccessToken:function(){return i.getAccessToken()||null},getUserID:function(){return i.getUserID()||i.getCookieUserID()},login:function(a,b){b&&b.perms&&!b.scope&&(b.scope=b.perms,delete b.perms,h.warn("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update."));var c=i.isEnvironment(i.ENVIRONMENTS.CANVAS)||i.isEnvironment(i.ENVIRONMENTS.PAGETAB);l(e({method:"permissions.oauth",display:c?"async":"popup",domain:location.hostname},b||{}),a)},logout:function(a){l({method:"auth.logout",display:"hidden"},a)}}),c.subscribe("logout",j(f.fire,"bind",!0,f,"auth.logout")),c.subscribe("login",j(f.fire,"bind",!0,f,"auth.login")),c.subscribe("authresponse.change",j(f.fire,"bind",!0,f,"auth.authResponseChange")),c.subscribe("status.change",j(f.fire,"bind",!0,f,"auth.statusChange")),f.subscribe("init:post",function(a){if(a.status&&c.getLoginStatus(),i.getClientID())if(a.authResponse)c.setAuthResponse(a.authResponse,"connected");
else if(i.getUseCookie()){var b,e=d.loadSignedRequest();if(e){try{b=k.parse(e)}catch(f){d.clearSignedRequestCookie()}b&&b.user_id&&i.setCookieUserID(b.user_id)}d.loadMeta()}})},3),i("sdk.Canvas.Plugin",["sdk.api","sdk.RPC","Log","UserAgent","sdk.Runtime","createArrayFrom"],function(b,c,d,e,g){function h(a){a._hideunity_savedstyle={},a._hideunity_savedstyle.left=a.style.left,a._hideunity_savedstyle.position=a.style.position,a._hideunity_savedstyle.width=a.style.width,a._hideunity_savedstyle.height=a.style.height,a.style.left="-10000px",a.style.position="absolute",a.style.width="1px",a.style.height="1px"}function i(a){a._hideunity_savedstyle&&(a.style.left=a._hideunity_savedstyle.left,a.style.position=a._hideunity_savedstyle.position,a.style.width=a._hideunity_savedstyle.width,a.style.height=a._hideunity_savedstyle.height)}function k(a){a._old_visibility=a.style.visibility,a.style.visibility="hidden"}function l(a){a.style.visibility=a._old_visibility||"",delete a._old_visibility}function m(a){var b=a.type?a.type.toLowerCase():null,c="application/x-shockwave-flash"===b||a.classid&&a.classid.toUpperCase()==x;if(!c)return!1;var d=/opaque|transparent/i;if(d.test(a.getAttribute("wmode")))return!1;for(var e=0;e<a.childNodes.length;e++){var f=a.childNodes[e];if(/param/i.test(f.nodeName)&&/wmode/i.test(f.name)&&d.test(f.value))return!1}return!0}function n(a){var b=a.type?a.type.toLowerCase():null;return"application/vnd.unity"===b||a.classid&&a.classid.toUpperCase()==y}function o(b){var c=w(a.document.getElementsByTagName("object"));c=c.concat(w(a.document.getElementsByTagName("embed")));var d=!1,e=!1;if(j(c,"forEach",!0,function(a){var c=m(a),g=A&&n(a);if(c||g){d=d||c,e=e||g;var j=function(){"opened"===b.state?c?k(a):h(a):c?l(a):i(a)};if(z){t.info("Calling developer specified callback");var o={state:b.state,elem:a};z(o),f(j,200)}else j()}}),Math.random()<=.001){var g={unity:e,flash:d};r(v.getClientID()+"/occludespopups","post",g)}}function p(){k(),h()}function q(){l(),i()}var r=c("sdk.api"),s=c("sdk.RPC"),t=c("Log"),u=c("UserAgent"),v=c("sdk.Runtime"),w=c("createArrayFrom"),x="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",y="CLSID:444785F1-DE89-4295-863A-D46C3A781394",z=null,A=!(u.osx()>=10.9&&(u.chrome()>=31||u.webkit()>=537.71||u.firefox()>=25));s.local.hidePluginObjects=function(){t.info("hidePluginObjects called"),o({state:"opened"})},s.local.showPluginObjects=function(){t.info("showPluginObjects called"),o({state:"closed"})},s.local.showFlashObjects=s.local.showPluginObjects,s.local.hideFlashObjects=s.local.hidePluginObjects;var B={_setHidePluginCallback:function(a){z=a},hidePluginElement:p,showPluginElement:q};g.exports=B}),i("sdk.Canvas.IframeHandling",["DOMWrapper","sdk.RPC"],function(b,c,d,e,f){function h(){var a=l.getWindow().document,b=a.body,c=a.documentElement,d=Math.max(b.offsetTop,0),e=Math.max(c.offsetTop,0),f=b.scrollHeight+d,g=b.offsetHeight+d,h=c.scrollHeight+e,i=c.offsetHeight+e;return Math.max(f,g,h,i)}function i(b){"object"!=typeof b&&(b={});var c=0,d=0;if(b.height||(b.height=h(),c=16,d=4),b.frame||(b.frame=a.name||"iframe_canvas"),k){var e=k.height,f=b.height-e;if(d>=f&&f>=-c)return!1}return k=b,m.remote.setSize(b),!0}function j(a,b){void 0===b&&"number"==typeof a&&(b=a,a=!0),a||void 0===a?(null===n&&(n=g(function(){i()},b||100)),i()):null!==n&&(clearInterval(n),n=null)}var k,l=c("DOMWrapper"),m=c("sdk.RPC"),n=null;m.stub("setSize");var o={setSize:i,setAutoGrow:j};f.exports=o}),i("sdk.Canvas.Navigation",["sdk.RPC"],function(a,b,c,d,e){function f(a){g.local.navigate=function(b){a({path:b})},g.remote.setNavigationEnabled(!0)}var g=b("sdk.RPC");g.stub("setNavigationEnabled");var h={setUrlHandler:f};e.exports=h}),i("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(a,b,c,d,e){function f(a,b){var c={appId:l.getClientID(),time:j("Date","now",!1),name:b},d=[c];a&&d.push(function(b){a(b.result)}),k.remote.logTtiMessage.apply(null,d)}function g(){f(null,"StartIframeAppTtiTimer")}function h(a){f(a,"StopIframeAppTtiTimer")}function i(a){f(a,"RecordIframeAppTti")}var k=b("sdk.RPC"),l=b("sdk.Runtime");k.stub("logTtiMessage");var m={setDoneLoading:i,startTimer:g,stopTimer:h};e.exports=m}),i("legacy:fb.canvas",["Assert","sdk.Canvas.Environment","sdk.Event","FB","sdk.Canvas.Plugin","sdk.Canvas.IframeHandling","Log","sdk.Canvas.Navigation","sdk.Runtime","sdk.Canvas.Tti"],function(a,b){var c=b("Assert"),d=b("sdk.Canvas.Environment"),e=b("sdk.Event"),f=b("FB"),g=b("sdk.Canvas.Plugin"),h=b("sdk.Canvas.IframeHandling"),i=b("Log"),j=b("sdk.Canvas.Navigation"),k=b("sdk.Runtime"),l=b("sdk.Canvas.Tti");f.provide("Canvas",{setSize:function(a){return c.maybeObject(a,"Invalid argument"),h.setSize.apply(null,arguments)},setAutoGrow:function(){return h.setAutoGrow.apply(null,arguments)},getPageInfo:function(a){return c.isFunction(a,"Invalid argument"),d.getPageInfo.apply(null,arguments)},scrollTo:function(a,b){return c.maybeNumber(a,"Invalid argument"),c.maybeNumber(b,"Invalid argument"),d.scrollTo.apply(null,arguments)},setDoneLoading:function(a){return c.maybeFunction(a,"Invalid argument"),l.setDoneLoading.apply(null,arguments)},startTimer:function(){return l.startTimer.apply(null,arguments)},stopTimer:function(a){return c.maybeFunction(a,"Invalid argument"),l.stopTimer.apply(null,arguments)},getHash:function(a){return c.isFunction(a,"Invalid argument"),j.getHash.apply(null,arguments)},setHash:function(a){return c.isString(a,"Invalid argument"),j.setHash.apply(null,arguments)},setUrlHandler:function(a){return c.isFunction(a,"Invalid argument"),j.setUrlHandler.apply(null,arguments)}}),f.provide("CanvasInsights",{setDoneLoading:function(a){return i.warn("Deprecated: use FB.Canvas.setDoneLoading"),c.maybeFunction(a,"Invalid argument"),l.setDoneLoading.apply(null,arguments)}}),e.subscribe("init:post",function(a){k.isEnvironment(k.ENVIRONMENTS.CANVAS)&&(c.isTrue(!a.hideFlashCallback||!a.hidePluginCallback,"cannot specify deprecated hideFlashCallback and new hidePluginCallback"),g._setHidePluginCallback(a.hidePluginCallback||a.hideFlashCallback))})},3),i("sdk.Canvas.Prefetcher",["sdk.api","createArrayFrom","sdk.Runtime","CanvasPrefetcherConfig"],function(a,b,c,d,g){function h(){var a={object:"data",link:"href",script:"src"};t==q.AUTOMATIC&&j(j("Object","keys",!1,a),"forEach",!0,function(b){var c=a[b];j(n(e.getElementsByTagName(b)),"forEach",!0,function(a){a[c]&&u.push(a[c])})}),0!==u.length&&(m(p.getClientID()+"/staticresources","post",{urls:j("JSON","stringify",!1,u),is_https:"https:"===location.protocol}),u=[])}function i(){p.isEnvironment(p.ENVIRONMENTS.CANVAS)&&p.getClientID()&&r&&(Math.random()>1/r||"*"==s||~j(s,"indexOf",!0,p.getClientID())||f(h,3e4))}function k(a){t=a}function l(a){u.push(a)}var m=b("sdk.api"),n=b("createArrayFrom"),o=c("CanvasPrefetcherConfig"),p=b("sdk.Runtime"),q={AUTOMATIC:0,MANUAL:1},r=o.sampleRate,s=o.blacklist,t=q.AUTOMATIC,u=[],v={COLLECT_AUTOMATIC:q.AUTOMATIC,COLLECT_MANUAL:q.MANUAL,addStaticResource:l,setCollectionMode:k,_maybeSample:i};g.exports=v}),i("legacy:fb.canvas.prefetcher",["FB","sdk.Canvas.Prefetcher","sdk.Event","sdk.Runtime"],function(a,b){var c=b("FB"),d=b("sdk.Canvas.Prefetcher"),e=b("sdk.Event"),f=b("sdk.Runtime");c.provide("Canvas.Prefetcher",d),e.subscribe("init:post",function(){f.isEnvironment(f.ENVIRONMENTS.CANVAS)&&d._maybeSample()})},3),i("legacy:fb.compat.ui",["copyProperties","FB","Log","sdk.ui","sdk.UIServer"],function(a,b){var c=b("copyProperties"),d=b("FB"),e=b("Log"),f=b("sdk.ui"),g=b("sdk.UIServer");d.provide("",{share:function(a){e.error("share() has been deprecated. Please use FB.ui() instead."),f({display:"popup",method:"stream.share",u:a})},publish:function(a,b){e.error("publish() has been deprecated. Please use FB.ui() instead."),a=a||{},f(c({display:"popup",method:"stream.publish",preview:1},a||{}),b)},addFriend:function(a,b){e.error("addFriend() has been deprecated. Please use FB.ui() instead."),f({display:"popup",id:a,method:"friend.add"},b)}}),g.Methods["auth.login"]=g.Methods["permissions.request"]},3),i("mergeArrays",[],function(a,b,c,d,e){function f(a,b){for(var c=0;c<b.length;c++)j(a,"indexOf",!0,b[c])<0&&a.push(b[c]);return a}e.exports=f}),i("format",[],function(a,b,c,d,e){function f(a,b){return b=Array.prototype.slice.call(arguments,1),a.replace(/\{(\d+)\}/g,function(a,c){var d=b[Number(c)];return null===d||void 0===d?"":d.toString()})}e.exports=f}),i("safeEval",[],function(b,c,d,e,f){function g(b,c){return null!==b&&"undefined"!=typeof b?"string"!=typeof b?b:/^\w+$/.test(b)&&"function"==typeof a[b]?a[b].apply(null,c||[]):Function('return eval("'+b.replace(/"/g,'\\"')+'");').apply(null,c||[]):void 0}f.exports=g}),i("sdk.Waitable",["sdk.Model"],function(a,b,c,d,e){var f=b("sdk.Model"),g=f.extend({constructor:function(){this.parent({Value:void 0})},error:function(a){this.inform("error",a)},wait:function(a,b){b&&this.subscribe("error",b),this.monitor("Value.change",j(function(){var b=this.getValue();return void 0!==b?(this.value=b,a(b),!0):void 0},"bind",!0,this))}});e.exports=g}),i("sdk.Query",["format","safeEval","Type","sdk.Waitable"],function(a,b,c,d,e){function f(a){return j(a.split(","),"map",!0,function(a){return j(a,"trim",!0)})}function g(a){var b,c,d=/^\s*(\w+)\s*=\s*(.*)\s*$/i.exec(a),e="unknown";return d&&(c=d[2],/^(["'])(?:\\?.)*?\1$/.test(c)?(c=k(c),e="index"):/^\d+\.?\d*$/.test(c)&&(e="index")),b="index"==e?{type:"index",key:d[1],value:c}:{type:"unknown",value:a}}function h(a){return"string"==typeof a?j("JSON","stringify",!1,a):a}var i=b("format"),k=b("safeEval"),l=b("Type"),m=b("sdk.Waitable"),n=1,o=m.extend({constructor:function(){this.parent(),this.name="v_"+n++},hasDependency:function(a){return arguments.length&&(this._hasDependency=a),!!this._hasDependency},parse:function(a){var b=i.apply(null,a),c=/^select (.*?) from (\w+)\s+where (.*)$/i.exec(b);this.fields=f(c[1]),this.table=c[2],this.where=g(c[3]);for(var d=1;d<a.length;d++)l.instanceOf(o,a[d])&&a[d].hasDependency(!0);return this},toFql:function(){var a="select "+this.fields.join(",")+" from "+this.table+" where ";switch(this.where.type){case"unknown":a+=this.where.value;break;case"index":a+=this.where.key+"="+h(this.where.value);break;case"in":a+=1==this.where.value.length?this.where.key+"="+h(this.where.value[0]):this.where.key+" in ("+j(this.where.value,"map",!0,h).join(",")+")"}return a},toString:function(){return"#"+this.name}});e.exports=o}),i("sdk.Data",["sdk.api","sdk.ErrorHandling","mergeArrays","sdk.Query","safeEval","sdk.Waitable"],function(a,b,c,d,e){var g=b("sdk.api"),h=b("sdk.ErrorHandling"),i=b("mergeArrays"),k=b("sdk.Query"),l=b("safeEval"),m=b("sdk.Waitable"),n={query:function(){var a=(new k).parse(Array.prototype.slice.call(arguments));return n.queue.push(a),n._waitToProcess(),a},waitOn:function(a,b){var c=new m,d=a.length;if("string"==typeof b){var e=b;b=h.unguard(function(){return l(e)})}return j(a,"forEach",!0,function(e){e.monitor("Value.change",function(){var f=!1;if(void 0!==n._getValue(e)&&(e.value=e.getValue(),d--,f=!0),0===d){var g=b(j(a,"map",!0,n._getValue));c.setValue(void 0!==g?g:!0)}return f})}),c},process:function(a){n._process(a)},_getValue:function(a){return a instanceof m?a.getValue():a},_selectByIndex:function(a,b,c,d){var e=new k;return e.fields=a,e.table=b,e.where={type:"index",key:c,value:d},n.queue.push(e),n._waitToProcess(),e},_waitToProcess:function(){n.timer<0&&(n.timer=f(function(){n._process()},10))},_process:function(a){n.timer=-1;var b={},c=n.queue;if(c.length){n.queue=[];for(var d=0;d<c.length;d++){var e=c[d];"index"!=e.where.type||e.hasDependency()?b[e.name]=e:n._mergeIndexQuery(e,b)}var f={q:{}};for(var h in b)b.hasOwnProperty(h)&&(f.q[h]=b[h].toFql());a&&(f.access_token=a),g("/fql","GET",f,function(a){a.error?j(j("Object","keys",!1,b),"forEach",!0,function(c){b[c].error(new Error(a.error.message))}):j(a.data,"forEach",!0,function(a){b[a.name].setValue(a.fql_result_set)})})}},_mergeIndexQuery:function(a,b){var c=a.where.key,d=a.where.value,e="index_"+a.table+"_"+c,f=b[e];f||(f=b[e]=new k,f.fields=[c],f.table=a.table,f.where={type:"in",key:c,value:[]}),i(f.fields,a.fields),i(f.where.value,[d]),f.wait(function(b){a.setValue(j(b,"filter",!0,function(a){return a[c]==d}))})},timer:-1,queue:[]};e.exports=n}),i("legacy:fb.data",["FB","sdk.Data"],function(a,b){var c=b("FB"),d=b("sdk.Data");c.provide("Data",d)},3),i("legacy:fb.event",["FB","sdk.Event"],function(a,b){var c=b("FB"),d=b("sdk.Event");c.provide("Event",d),c.provide("EventProvider",d)},3),i("legacy:fb.frictionless",["FB","sdk.Frictionless"],function(a,b){var c=b("FB"),d=b("sdk.Frictionless");c.provide("Frictionless",d)},3),i("sdk.init",["sdk.Cookie","copyProperties","createArrayFrom","sdk.ErrorHandling","sdk.Event","Log","QueryString","sdk.Runtime"],function(b,c,d,g,h){function i(a){var b="number"==typeof a&&a>0||"string"==typeof a&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(a);return b?a.toString():(q.warn("Invalid App Id: Must be a number or numeric string representing the application id."),null)}function k(a){s.getInitialized()&&q.warn("FB.init has already been called - this could indicate a problem"),/number|string/.test(typeof a)&&(q.warn("FB.init called with invalid parameters"),a={apiKey:a}),a=m({logging:!0,status:!0},a||{});var b=i(a.appId||a.apiKey);null!==b&&s.setClientID(b),"scope"in a&&s.setScope(a.scope),a.cookie&&(s.setUseCookie(!0),"string"==typeof a.cookie&&l.setDomain(a.cookie)),a.kidDirectedSite&&s.setKidDirectedSite(!0),s.setInitialized(!0),p.fire("init:post",a)}var l=c("sdk.Cookie"),m=c("copyProperties"),n=c("createArrayFrom"),o=c("sdk.ErrorHandling"),p=c("sdk.Event"),q=c("Log"),r=c("QueryString"),s=c("sdk.Runtime");f(function(){var b=/(connect\.facebook\.net|\.facebook\.com\/assets.php).*?#(.*)/;j(n(e.getElementsByTagName("script")),"forEach",!0,function(a){if(a.src){var c=b.exec(a.src);if(c){var d=r.decode(c[2]);for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];"0"==f&&(d[e]=0)}k(d)}}}),a.fbAsyncInit&&!a.fbAsyncInit.hasRun&&(a.fbAsyncInit.hasRun=!0,o.unguard(a.fbAsyncInit)())},0),h.exports=k}),i("legacy:fb.init",["FB","sdk.init"],function(a,b){var c=b("FB"),d=b("sdk.init");c.provide("",{init:d})},3),i("legacy:fb.json",["FB","ManagedError"],function(a,b){var c=b("FB"),d=b("ManagedError");c.provide("JSON",{stringify:function(a){try{return j("JSON","stringify",!1,a)}catch(b){throw new d(b.message,b)}},parse:function(a){try{return j("JSON","parse",!1,a)}catch(b){throw new d(b.message,b)}}})},3),i("legacy:fb.pay",["FB","copyProperties","sdk.Runtime","sdk.UIServer","sdk.XD"],function(b,c){c("FB");var d=c("copyProperties"),e=c("sdk.Runtime"),f=c("sdk.UIServer"),g=c("sdk.XD"),h={error_code:1383001,error_message:"An unknown error caused the dialog to be closed"},i=function(a){return function(b){a(b&&b.response?j("JSON","parse",!1,b.response):h)}};d(f.Methods,{"pay.prompt":{transform:function(b){var c=g.handler(i(b.cb),"parent.frames["+(a.name||"iframe_canvas")+"]");b.params.channel=c,g.inform("Pay.Prompt",b.params)}},pay:{size:{width:555,height:120},connectDisplay:"popup",transform:function(b){if(b.cb=i(b.cb),!e.isEnvironment(e.ENVIRONMENTS.CANVAS))return b.params.order_info=j("JSON","stringify",!1,b.params.order_info),b;var c=g.handler(b.cb,"parent.frames["+(a.name||"iframe_canvas")+"]");b.params.channel=c,b.params.uiserver=!0,g.inform("Pay.Prompt",b.params)}}})},3),i("legacy:fb.ua",["FB","UserAgent"],function(a,b){var c=b("FB"),d=b("UserAgent");c.provide("UA",{nativeApp:d.nativeApp})},3),i("legacy:fb.ui",["FB","sdk.ui"],function(a,b){var c=b("FB"),d=b("sdk.ui");c.provide("",{ui:d})},3),i("Miny",[],function(a,b,c,d,e){function f(a){for(var b=k.encode.length;a>b;b++){var c=b.toString(32).split("");c[c.length-1]=l[parseInt(c[c.length-1],32)],c=c.join(""),k.encode[b]=c,k.decode[c]=b}return k}function g(a){for(var b=a.match(/\w+|\W+/g),c={},d=0;d<b.length;d++)c[b[d]]=(c[b[d]]||0)+1;var e=j("Object","keys",!1,c);e.sort(function(a,b){return c[a]<c[b]?1:c[b]<c[a]?-1:0});var g=f(e.length).encode;for(d=0;d<e.length;d++)c[e[d]]=g[d];var h=[];for(d=0;d<b.length;d++)h[d]=c[b[d]];for(d=0;d<e.length;d++)e[d]=e[d].replace(/'~'/g,"\\~");return[i,e.length].concat(e).concat(h.join("")).join("~")}function h(a){var b=a.split("~");if(b.shift()!=i)throw new Error("Not a Miny stream");var c=parseInt(b.shift(),10),d=b.pop();d=d.match(/[0-9a-v]*[\-w-zA-Z_]/g);for(var e=b,g=f(c).decode,h=[],j=0;j<d.length;j++)h[j]=e[g[d[j]]];return h.join("")}var i="Miny1",k={encode:[],decode:{}},l="wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split(""),m={encode:g,decode:h};e.exports=m}),i("runOnce",[],function(a,b,c,d,e){function f(a){var b,c;return function(){return b||(b=!0,c=a()),c}}e.exports=f}),i("XFBML",["Assert","copyProperties","createArrayFrom","sdk.DOM","sdk.feature","sdk.Impressions","Log","ObservableMixin","runOnce","UserAgent"],function(a,b,c,d,g){function h(a,b){return a[b]+""}function i(a){return a.scopeName?a.scopeName+":"+a.nodeName:""}function k(a){return z[h(a,"nodeName").toLowerCase()]||z[i(a).toLowerCase()]}function l(a){var b=j(j(h(a,"className"),"trim",!0).split(/\s+/),"filter",!0,function(a){return A.hasOwnProperty(a)});return 0===b.length?void 0:a.getAttribute("fb-xfbml-state")||!a.childNodes||0===a.childNodes.length||1===a.childNodes.length&&3===a.childNodes[0].nodeType||1===a.children.length&&"fb-xfbml-parse-ignore"===h(a.children[0],"className")?A[b[0]]:void 0}function m(a){var b={};return j(r(a.attributes),"forEach",!0,function(a){b[h(a,"name")]=h(a,"value")}),b}function n(a,b,c){var d=e.createElement("div");return s.addCss(a,b+"-"+c),j(r(a.childNodes),"forEach",!0,function(a){d.appendChild(a)}),j(r(a.attributes),"forEach",!0,function(a){d.setAttribute(a.name,a.value)}),a.parentNode.replaceChild(d,a),d}function o(a,b,c){p.isTrue(a&&a.nodeType&&1===a.nodeType&&!!a.getElementsByTagName,"Invalid DOM node passed to FB.XFBML.parse()"),p.isFunction(b,"Invalid callback passed to FB.XFBML.parse()");var d=++B;v.info("XFBML Parsing Start %s",d);var e=1,g=0,h=function(){e--,0===e&&(v.info("XFBML Parsing Finish %s, %s tags found",d,g),b(),C.inform("render",d,g)),p.isTrue(e>=0,"onrender() has been called too many times")};j(r(a.getElementsByTagName("*")),"forEach",!0,function(a){if((c||!a.getAttribute("fb-xfbml-state"))&&1===a.nodeType){var b=k(a)||l(a);if(b){y.ie()<9&&a.scopeName&&(a=n(a,b.xmlns,b.localName)),e++,g++;var d=new b.ctor(a,b.xmlns,b.localName,m(a));d.subscribe("render",x(function(){a.setAttribute("fb-xfbml-state","rendered"),h()}));var f=function(){"parsed"==a.getAttribute("fb-xfbml-state")?C.subscribe("render.queue",f):(a.setAttribute("fb-xfbml-state","parsed"),d.process())};f()}}}),C.inform("parse",d,g);var i=3e4;f(function(){e>0&&v.warn("%s tags failed to render in %s ms",e,i)},i),h()}var p=b("Assert"),q=b("copyProperties"),r=b("createArrayFrom"),s=b("sdk.DOM"),t=b("sdk.feature"),u=b("sdk.Impressions"),v=b("Log"),w=b("ObservableMixin"),x=b("runOnce"),y=b("UserAgent"),z={},A={},B=0,C=new w;if(C.subscribe("render",function(){var a=C.getSubscribers("render.queue");C.clearSubscribers("render.queue"),j(a,"forEach",!0,function(a){a()})}),q(C,{registerTag:function(a){var b=a.xmlns+":"+a.localName;p.isUndefined(z[b],b+" already registered"),z[b]=a,A[a.xmlns+"-"+a.localName]=a},parse:function(a,b){o(a||e.body,b||function(){},!0)},parseNew:function(){o(e.body,function(){},!1)}}),t("log_tag_count")){var D=function(a,b){C.unsubscribe("parse",D),f(j(u.log,"bind",!0,null,102,{tag_count:b}),5e3)};C.subscribe("parse",D)}g.exports=C}),i("PluginPipe",["sdk.Content","copyProperties","sdk.feature","guid","insertIframe","Miny","ObservableMixin","sdk.Runtime","UrlMap","UserAgent","XFBML","PluginPipeConfig"],function(a,b,c,d,f){function g(){return!(!m("plugin_pipe")||void 0===s.getSecure()||!u.chrome()&&!u.firefox()||!r.enabledApps[s.getClientID()])}function h(){function a(){c--,0===c&&i(b)}var b=y;if(y=[],b.length<=x)return void j(b,"forEach",!0,function(a){o(a.config)});var c=b.length+1;j(b,"forEach",!0,function(b){var c={};for(var d in b.config)c[d]=b.config[d];c.url=t.resolve("www",s.getSecure())+"/plugins/plugin_pipe_shell.php",c.onload=a,o(c)}),a()}function i(a){var b=e.createElement("span");k.appendHidden(b);var c={};j(a,"forEach",!0,function(a){c[a.config.name]={plugin:a.tag,params:a.params}});var d=j("JSON","stringify",!1,c),f=p.encode(d);j(a,"forEach",!0,function(a){var b=e.getElementsByName(a.config.name)[0];b.onload=a.config.onload});var g=t.resolve("www",s.getSecure())+"/plugins/pipe.php",h=n();o({url:"about:blank",root:b,name:h,className:"fb_hidden fb_invisible",onload:function(){k.submitToTarget({url:g,target:h,params:{plugins:f.length<d.length?f:d}})}})}var k=b("sdk.Content"),l=b("copyProperties"),m=b("sdk.feature"),n=b("guid"),o=b("insertIframe"),p=b("Miny"),q=b("ObservableMixin"),r=c("PluginPipeConfig"),s=b("sdk.Runtime"),t=b("UrlMap"),u=b("UserAgent"),v=b("XFBML"),w=new q,x=r.threshold,y=[];v.subscribe("parse",h),l(w,{add:function(a){var b=g();return b&&y.push({config:a._config,tag:a._tag,params:a._params}),b}}),f.exports=w}),i("IframePlugin",["sdk.Auth","sdk.createIframe","copyProperties","sdk.DOM","sdk.Event","guid","Log","ObservableMixin","PluginPipe","QueryString","resolveURI","sdk.Runtime","Type","UrlMap","UserAgent","sdk.XD"],function(b,c,d,g,h){function i(a,b,c){(b||0===b)&&(a.style.width=b+"px"),(c||0===c)&&(a.style.height=c+"px")}function k(a){return function(b){var c={width:b.width,height:b.height,pluginID:a};s.fire("xfbml.resize",c)}}function l(a,b){var c=a[b]||a[b.replace(/_/g,"-")]||a[b.replace(/_/g,"")]||a["data-"+b]||a["data-"+b.replace(/_/g,"-")]||a["data-"+b.replace(/_/g,"")]||void 0;return c}function m(a,b,c,d){j(j("Object","keys",!1,a),"forEach",!0,function(e){"text"!=a[e]||c[e]||(c[e]=b.textContent||b.innerText||"",b.setAttribute(e,c[e])),d[e]=F[a[e]](l(c,e))})}function n(a){return a||"0"===a||0===a?parseInt(a,10):void 0}var o=c("sdk.Auth"),p=c("sdk.createIframe"),q=c("copyProperties"),r=c("sdk.DOM"),s=c("sdk.Event"),t=c("guid"),u=c("Log"),v=c("ObservableMixin"),w=c("PluginPipe"),x=c("QueryString"),y=c("resolveURI"),z=c("sdk.Runtime"),A=c("Type"),B=c("UrlMap"),C=c("UserAgent"),D=c("sdk.XD"),E={skin:"string",font:"string",width:"px",height:"px",ref:"string",color_scheme:"string"},F={string:function(a){return a},bool:function(a){return a?/^(?:true|1|yes|on)$/i.test(a):void 0},url:function(a){return y(a)},url_maybe:function(a){return a?y(a):a},hostname:function(b){return b||a.location.hostname},px:function(a){return/^(\d+)(?:px)?$/.test(a)?parseInt(RegExp.$1,10):void 0},text:function(a){return a}},G=A.extend({constructor:function(b,c,d,f){this.parent(),d=d.replace(/-/g,"_");var g=l(f,"plugin_id");this.subscribe("xd.resize",k(g)),this.subscribe("xd.resize.flow",k(g)),this.subscribe("xd.resize.flow",j(function(a){this._config.root.style.verticalAlign="bottom",i(this._config.root,n(a.width),n(a.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize",j(function(a){this._config.root.style.verticalAlign="bottom",i(this._config.root,n(a.width),n(a.height)),i(this._iframe,n(a.width),n(a.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize.iframe",j(function(a){i(this._iframe,n(a.width),n(a.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.sdk_event",function(a){var c=j("JSON","parse",!1,a.data);c.pluginID=g,s.fire(a.event,c,b)});var h=z.getSecure()||"https:"==a.location.protocol,p=B.resolve("www",h)+"/plugins/"+d+".php?",q={};m(this.getParams(),b,f,q),m(E,b,f,q),q.app_id=z.getClientID(),q.locale=z.getLocale(),q.sdk="joey",q.kid_directed_site=z.getKidDirectedSite();var u=j(function(a){this.inform("xd."+a.type,a)},"bind",!0,this);q.channel=D.handler(u,"parent.parent",!0),r.addCss(b,"fb_iframe_widget");var v=t();this.subscribe("xd.verify",function(a){D.sendToFacebook(v,{method:"xd/verify",params:j("JSON","stringify",!1,a.token)})}),this.subscribe("xd.refreshLoginStatus",j(o.getLoginStatus,"bind",!0,o,j(this.inform,"bind",!0,this,"login.status"),!0));var w=e.createElement("span");w.style.verticalAlign="top",w.style.width="0px",w.style.height="0px",this._element=b,this._ns=c,this._tag=d,this._params=q,this._config={root:w,url:p+x.encode(q),name:v,width:C.mobile()?void 0:q.width||1e3,height:q.height||1e3,style:{border:"none",visibility:"hidden"},title:this._ns+":"+this._tag+" Facebook Social Plugin",onload:j(function(){this.inform("render")},"bind",!0,this)}},process:function(){var a=q({},this._params);delete a.channel;var b=x.encode(a);if(this._element.getAttribute("fb-iframe-plugin-query")==b)return u.info("Skipping render: %s:%s %s",this._ns,this._tag,b),void this.inform("render");for(this._element.setAttribute("fb-iframe-plugin-query",b),this.subscribe("render",function(){this._iframe.style.visibility="visible"});this._element.firstChild;)this._element.removeChild(this._element.firstChild);this._element.appendChild(this._config.root);var c=C.mobile()?120:45;this._timeoutID=f(j(function(){this._iframe&&i(this._iframe,0,0),u.warn("%s:%s failed to resize in %ss",this._ns,this._tag,c)},"bind",!0,this),1e3*c),w.add(this)||(this._iframe=p(this._config)),C.mobile()&&(r.addCss(this._element,"fb_iframe_widget_fluid"),this._element.style.display="block",this._element.style.width="100%",this._element.style.height="auto",this._config.root.style.width="100%",this._config.root.style.height="auto",this._iframe.style.width="100%",this._iframe.style.height="auto",this._iframe.style.position="static")},updateLift:function(){var a=this._iframe.style.width===this._config.root.style.width&&this._iframe.style.height===this._config.root.style.height;r[a?"removeCss":"addCss"](this._iframe,"fb_iframe_widget_lift")}},v);G.getVal=l,G.withParams=function(a){return G.extend({getParams:function(){return a}})},h.exports=G}),i("PluginTags",[],function(a,b,c,d,e){var f={activity:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",recommendations:"bool",site:"hostname"},composer:{action_type:"string",action_properties:"string"},create_event_button:{},degrees:{href:"url"},facepile:{href:"string",action:"string",size:"string",max_rows:"string",show_count:"bool"},follow:{href:"url",layout:"string",show_faces:"bool"},like:{href:"url",layout:"string",show_faces:"bool",share:"bool",action:"string",send:"bool"},like_box:{href:"string",show_faces:"bool",header:"bool",stream:"bool",force_wall:"bool",show_border:"bool",id:"string",connections:"string",profile_id:"string",name:"string"},open_graph:{href:"url",layout:"string",show_faces:"bool",action_type:"string",action_properties:"string"},open_graph_preview:{action_type:"string",action_properties:"string"},page_events:{href:"url"},post:{href:"url",show_border:"bool"},privacy_selector:{},profile_pic:{uid:"string",linked:"bool",href:"string",size:"string",facebook_logo:"bool"},recommendations:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",site:"hostname"},share_button:{href:"url",type:"string"},shared_activity:{header:"bool"},send:{href:"url"},send_to_mobile:{max_rows:"string",show_faces:"bool",size:"string"},story:{href:"url",show_border:"bool"},topic:{topic_name:"string",topic_id:"string"},want:{href:"url",layout:"string",show_faces:"bool"}},g={subscribe:"follow",fan:"like_box",likebox:"like_box",friendpile:"facepile"};j(j("Object","keys",!1,g),"forEach",!0,function(a){f[a]=f[g[a]]}),e.exports=f}),i("sdk.Arbiter",[],function(a,b,c,d,e){var f={BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s"};e.exports=f}),i("sdk.XFBML.Element",["sdk.DOM","Type","ObservableMixin"],function(a,b,c,d,f){var g=b("sdk.DOM"),h=b("Type"),i=b("ObservableMixin"),k=h.extend({constructor:function(a){this.parent(),this.dom=a},fire:function(){this.inform.apply(this,arguments)},getAttribute:function(a,b,c){var d=g.getAttr(this.dom,a);return d?c?c(d):d:b},_getBoolAttribute:function(a,b){var c=g.getBoolAttr(this.dom,a);return null===c?b:c},_getPxAttribute:function(a,b){return this.getAttribute(a,b,function(a){var c=parseInt(a.replace("px",""),10);return isNaN(c)?b:c})},_getAttributeFromList:function(a,b,c){return this.getAttribute(a,b,function(a){return a=a.toLowerCase(),j(c,"indexOf",!0,a)>-1?a:b})},isValid:function(){for(var a=this.dom;a;a=a.parentNode)if(a==e.body)return!0},clear:function(){g.html(this.dom,"")}},i);f.exports=k}),i("sdk.XFBML.IframeWidget",["sdk.Arbiter","sdk.Auth","sdk.Content","copyProperties","sdk.DOM","sdk.Event","sdk.XFBML.Element","guid","insertIframe","QueryString","sdk.Runtime","sdk.ui","UrlMap","sdk.XD"],function(a,b,c,d,f){var g=b("sdk.Arbiter"),h=b("sdk.Auth"),i=b("sdk.Content"),k=b("copyProperties"),l=b("sdk.DOM"),m=b("sdk.Event"),n=b("sdk.XFBML.Element"),o=b("guid"),p=b("insertIframe"),q=b("QueryString"),r=b("sdk.Runtime"),s=b("sdk.ui"),t=b("UrlMap"),u=b("sdk.XD"),v=n.extend({_iframeName:null,_showLoader:!0,_refreshOnAuthChange:!1,_allowReProcess:!1,_fetchPreCachedLoader:!1,_visibleAfter:"load",_widgetPipeEnabled:!1,_borderReset:!1,_repositioned:!1,getUrlBits:function(){throw new Error("Inheriting class needs to implement getUrlBits().")},setupAndValidate:function(){return!0},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName},getIframeTitle:function(){return"Facebook Social Plugin"},getChannelUrl:function(){if(!this._channelUrl){var a=this;this._channelUrl=u.handler(function(b){a.fire("xd."+b.type,b)},"parent.parent",!0)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(a,b,c){u.sendToFacebook(this.getIframeName(),{method:a,params:j("JSON","stringify",!1,b||{}),behavior:c||g.BEHAVIOR_PERSISTENT})},_arbiterInform:function(a,b,c){var d='parent.frames["'+this.getIframeNode().name+'"]';u.inform(a,b,d,c)},getDefaultWebDomain:function(){return t.resolve("www")},process:function(a){if(this._done){if(!this._allowReProcess&&!a)return;this.clear()}else this._oneTimeSetup();if(this._done=!0,this._iframeName=this.getIframeName()||this._iframeName||o(),!this.setupAndValidate())return void this.fire("render");this._showLoader&&this._addLoader(),l.addCss(this.dom,"fb_iframe_widget"),"immediate"!=this._visibleAfter?l.addCss(this.dom,"fb_hide_iframes"):this.subscribe("iframe.onload",j(this.fire,"bind",!0,this,"render"));var b=this.getSize()||{},c=this.getFullyQualifiedURL();"100%"==b.width&&l.addCss(this.dom,"fb_iframe_widget_fluid"),this.clear(),p({url:c,root:this.dom.appendChild(e.createElement("span")),name:this._iframeName,title:this.getIframeTitle(),className:r.getRtl()?"fb_rtl":"fb_ltr",height:b.height,width:b.width,onload:j(this.fire,"bind",!0,this,"iframe.onload")}),this._resizeFlow(b),this.loaded=!1,this.subscribe("iframe.onload",j(function(){this.loaded=!0},"bind",!0,this))},generateWidgetPipeIframeName:function(){return w++,"fb_iframe_"+w},getFullyQualifiedURL:function(){var a=this._getURL();if(a+="?"+q.encode(this._getQS()),a.length>2e3){a="about:blank";var b=j(function(){this._postRequest(),this.unsubscribe("iframe.onload",b)},"bind",!0,this);this.subscribe("iframe.onload",b)}return a},_getWidgetPipeShell:function(){return t.resolve("www")+"/common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",j(this._handleResizeMsg,"bind",!0,this)),this.subscribe("xd.resize",j(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.resize.iframe",j(this._resizeIframe,"bind",!0,this)),this.subscribe("xd.resize.flow",j(this._resizeFlow,"bind",!0,this)),this.subscribe("xd.resize.flow",j(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.refreshLoginStatus",function(){h.getLoginStatus(function(){},!0)}),this.subscribe("xd.logout",function(){s({method:"auth.logout",display:"hidden"},function(){})}),this._refreshOnAuthChange&&this._setupAuthRefresh(),"load"==this._visibleAfter&&this.subscribe("iframe.onload",j(this._makeVisible,"bind",!0,this)),this.subscribe("xd.verify",j(function(a){this.arbiterInform("xd/verify",a.token)},"bind",!0,this)),this.oneTimeSetup()},_makeVisible:function(){this._removeLoader(),l.removeCss(this.dom,"fb_hide_iframes"),this.fire("render")
},_setupAuthRefresh:function(){h.getLoginStatus(j(function(a){var b=a.status;m.subscribe("auth.statusChange",j(function(a){this.isValid()&&(("unknown"==b||"unknown"==a.status)&&this.process(!0),b=a.status)},"bind",!0,this))},"bind",!0,this))},_handleResizeMsg:function(a){this.isValid()&&(this._resizeIframe(a),this._resizeFlow(a),this._borderReset||(this.getIframeNode().style.border="none",this._borderReset=!0),this._makeVisible())},_bubbleResizeEvent:function(a){var b={height:a.height,width:a.width,pluginID:this.getAttribute("plugin-id")};m.fire("xfbml.resize",b)},_resizeIframe:function(a){var b=this.getIframeNode();"true"===a.reposition&&this._repositionIframe(a),a.height&&(b.style.height=a.height+"px"),a.width&&(b.style.width=a.width+"px"),this._updateIframeZIndex()},_resizeFlow:function(a){var b=this.dom.getElementsByTagName("span")[0];a.height&&(b.style.height=a.height+"px"),a.width&&(b.style.width=a.width+"px"),this._updateIframeZIndex()},_updateIframeZIndex:function(){var a=this.dom.getElementsByTagName("span")[0],b=this.getIframeNode(),c=b.style.height===a.style.height&&b.style.width===a.style.width,d=c?"removeCss":"addCss";l[d](b,"fb_iframe_widget_lift")},_repositionIframe:function(a){var b=this.getIframeNode(),c=parseInt(l.getStyle(b,"width"),10),d=l.getPosition(b).x,e=l.getViewportInfo().width,f=parseInt(a.width,10);d+f>e&&d>f?(b.style.left=c-f+"px",this.arbiterInform("xd/reposition",{type:"horizontal"}),this._repositioned=!0):this._repositioned&&(b.style.left="0px",this.arbiterInform("xd/reposition",{type:"restore"}),this._repositioned=!1)},_addLoader:function(){this._loaderDiv||(l.addCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv=e.createElement("div"),this._loaderDiv.className="FB_Loader",this.dom.appendChild(this._loaderDiv))},_removeLoader:function(){this._loaderDiv&&(l.removeCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv.parentNode&&this._loaderDiv.parentNode.removeChild(this._loaderDiv),this._loaderDiv=null)},_getQS:function(){return k({api_key:r.getClientID(),locale:r.getLocale(),sdk:"joey",kid_directed_site:r.getKidDirectedSite(),ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){var a=this.getDefaultWebDomain(),b="";return a+"/plugins/"+b+this.getUrlBits().name+".php"},_postRequest:function(){i.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}}),w=0;f.exports=v}),i("sdk.XFBML.Comments",["sdk.Event","sdk.XFBML.IframeWidget","QueryString","sdk.Runtime","UrlMap","UserAgent","SDKConfig"],function(b,c,d,f,g){var h=c("sdk.Event"),i=c("sdk.XFBML.IframeWidget"),k=c("QueryString"),l=c("sdk.Runtime"),m=d("SDKConfig"),n=c("UrlMap"),o=c("UserAgent"),p=i.extend({_visibleAfter:"immediate",_refreshOnAuthChange:!0,setupAndValidate:function(){var b={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),skin:this.getAttribute("skin"),numposts:this.getAttribute("num-posts",10),width:this._getPxAttribute("width",550),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),order_by:this.getAttribute("order_by"),mobile:this._getBoolAttribute("mobile")};if(m.initSitevars.enableMobileComments&&o.mobile()&&b.mobile!==!1&&(b.mobile=!0,delete b.width),b.skin||(b.skin=b.colorscheme),b.href){var c=this.getAttribute("fb_comment_id");c||(c=k.decode(e.URL.substring(j(e.URL,"indexOf",!0,"?")+1)).fb_comment_id,c&&j(c,"indexOf",!0,"#")>0&&(c=c.substring(0,j(c,"indexOf",!0,"#")))),c&&(b.fb_comment_id=c,this.subscribe("render",j(function(){a.location.hash||(a.location.hash=this.getIframeNode().id)},"bind",!0,this)))}else{if(b.migrated=this.getAttribute("migrated"),b.xid=this.getAttribute("xid"),b.title=this.getAttribute("title",e.title),b.url=this.getAttribute("url",e.URL),b.quiet=this.getAttribute("quiet"),b.reverse=this.getAttribute("reverse"),b.simple=this.getAttribute("simple"),b.css=this.getAttribute("css"),b.notify=this.getAttribute("notify"),!b.xid){var d=j(e.URL,"indexOf",!0,"#");b.xid=encodeURIComponent(d>0?e.URL.substring(0,d):e.URL)}b.migrated&&(b.href=n.resolve("www")+"/plugins/comments_v1.php?app_id="+l.getClientID()+"&xid="+encodeURIComponent(b.xid)+"&url="+encodeURIComponent(b.url))}return this._attr=b,!0},oneTimeSetup:function(){this.subscribe("xd.addComment",j(this._handleCommentMsg,"bind",!0,this)),this.subscribe("xd.commentCreated",j(this._handleCommentCreatedMsg,"bind",!0,this)),this.subscribe("xd.commentRemoved",j(this._handleCommentRemovedMsg,"bind",!0,this))},getSize:function(){return this._attr.mobile?{width:"100%",height:160}:{width:this._attr.width,height:160}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return n.resolve(this._attr.mobile?"m":"www",!0)},_handleCommentMsg:function(a){this.isValid()&&h.fire("comments.add",{post:a.post,user:a.user,widget:this})},_handleCommentCreatedMsg:function(a){if(this.isValid()){var b={href:a.href,commentID:a.commentID,parentCommentID:a.parentCommentID};h.fire("comment.create",b)}},_handleCommentRemovedMsg:function(a){if(this.isValid()){var b={href:a.href,commentID:a.commentID};h.fire("comment.remove",b)}}});g.exports=p}),i("sdk.XFBML.CommentsCount",["sdk.Data","sdk.DOM","sdk.XFBML.Element","sprintf"],function(b,c,d,e,f){var g=c("sdk.Data"),h=c("sdk.DOM"),i=c("sdk.XFBML.Element"),k=c("sprintf"),l=i.extend({process:function(){h.addCss(this.dom,"fb_comments_count_zero");var b=this.getAttribute("href",a.location.href);g._selectByIndex(["commentsbox_count"],"link_stat","url",b).wait(j(function(a){var b=a[0].commentsbox_count;h.html(this.dom,k('<span class="fb_comments_count">%s</span>',b)),b>0&&h.removeCss(this.dom,"fb_comments_count_zero"),this.fire("render")},"bind",!0,this))}});f.exports=l}),i("sdk.Anim",["sdk.DOM"],function(a,b,c,d,e){var f=b("sdk.DOM"),h={ate:function(a,b,c,d){c=!isNaN(parseFloat(c))&&c>=0?c:750;var e=40,h={},i={},k=null,l=g(j(function(){k||(k=j("Date","now",!1));var e=1;0!=c&&(e=Math.min((j("Date","now",!1)-k)/c,1));for(var g in b)if(b.hasOwnProperty(g)){var m=b[g];if(!h[g]){var n=f.getStyle(a,g);if(n===!1)return;h[g]=this._parseCSS(n+"")}i[g]||(i[g]=this._parseCSS(m.toString()));var o="";j(h[g],"forEach",!0,function(a,b){isNaN(i[g][b].numPart)&&"?"==i[g][b].textPart?o=a.numPart+a.textPart:isNaN(a.numPart)?o=a.textPart:o+=a.numPart+Math.ceil((i[g][b].numPart-a.numPart)*Math.sin(Math.PI/2*e))+i[g][b].textPart+" "}),f.setStyle(a,g,o)}1==e&&(clearInterval(l),d&&d(a))},"bind",!0,this),e)},_parseCSS:function(a){var b=[];return j(a.split(" "),"forEach",!0,function(a){var c=parseInt(a,10);b.push({numPart:c,textPart:a.replace(c,"")})}),b}};e.exports=h}),i("escapeHTML",[],function(a,b,c,d,e){function f(a){return a.replace(g,function(a){return h[a]})}var g=/[&<>"'\/]/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","/":"&#x2F;"};e.exports=f}),i("sdk.Helper",["sdk.ErrorHandling","sdk.Event","UrlMap","safeEval","sprintf"],function(b,c,d,e,f){var g=c("sdk.ErrorHandling"),h=c("sdk.Event"),i=c("UrlMap"),j=c("safeEval"),k=c("sprintf"),l={isUser:function(a){return 22e8>a||a>=1e14&&0x5b0a58f100ef>=a||a>=89e12&&89999999999999>=a},upperCaseFirstChar:function(a){return a.length>0?a.substr(0,1).toUpperCase()+a.substr(1):a},getProfileLink:function(a,b,c){return!c&&a&&(c=k("%s/profile.php?id=%s",i.resolve("www"),a.uid||a.id)),c&&(b=k('<a class="fb_link" href="%s">%s</a>',c,b)),b},invokeHandler:function(a,b,c){a&&("string"==typeof a?g.unguard(j)(a,c):a.apply&&g.unguard(a).apply(b,c||[]))},fireEvent:function(a,b){var c=b._attr.href;b.fire(a,c),h.fire(a,c,b)},executeFunctionByName:function(b){for(var c=Array.prototype.slice.call(arguments,1),d=b.split("."),e=d.pop(),f=a,g=0;g<d.length;g++)f=f[d[g]];return f[e].apply(this,c)}};f.exports=l}),i("sdk.XFBML.ConnectBar",["sdk.Anim","sdk.api","sdk.Auth","createArrayFrom","sdk.Data","sdk.DOM","sdk.XFBML.Element","escapeHTML","sdk.Event","format","sdk.Helper","sdk.Insights","sdk.Intl","sdk.Runtime","UrlMap","UserAgent","ConnectBarConfig"],function(b,c,d,f,g){var h=c("sdk.Anim"),i=c("sdk.api"),k=c("sdk.Auth"),l=c("createArrayFrom"),m=d("ConnectBarConfig"),n=c("sdk.Data"),o=c("sdk.DOM"),p=c("sdk.XFBML.Element"),q=c("escapeHTML"),r=c("sdk.Event"),s=c("format"),t=c("sdk.Helper"),u=c("sdk.Insights"),v=c("sdk.Intl"),w=c("sdk.Runtime"),x=c("UrlMap"),y=c("UserAgent"),z=p.extend({_initialHeight:null,_initTopMargin:0,_picFieldName:"pic_square",_page:null,_displayed:!1,_notDisplayed:!1,_container:null,_animationSpeed:0,process:function(){k.getLoginStatus(j(function(){r.monitor("auth.statusChange",j(function(){return this.isValid()&&"connected"==w.getLoginStatus()?(this._uid=w.getUserID(),i({method:"Connect.shouldShowConnectBar"},j(function(a){2!=a?(this._animationSpeed=0==a?750:0,this._showBar()):this._noRender()},"bind",!0,this))):this._noRender(),!1},"bind",!0,this))},"bind",!0,this))},_showBar:function(){var a=n._selectByIndex(["first_name","profile_url",this._picFieldName],"user","uid",this._uid),b=n._selectByIndex(["display_name"],"application","api_key",w.getClientID());n.waitOn([a,b],j(function(a){a[0][0].site_name=a[1][0].display_name,this._displayed||(this._displayed=!0,this._notDisplayed=!1,this._renderConnectBar(a[0][0]),this.fire("render"),u.impression({lid:104,name:"widget_load"}),this.fire("connectbar.ondisplay"),r.fire("connectbar.ondisplay",this),t.invokeHandler(this.getAttribute("on-display"),this))},"bind",!0,this))},_noRender:function(){this._displayed&&(this._displayed=!1,this._closeConnectBar()),this._notDisplayed||(this._notDisplayed=!0,this.fire("render"),this.fire("connectbar.onnotdisplay"),r.fire("connectbar.onnotdisplay",this),t.invokeHandler(this.getAttribute("on-not-display"),this))},_renderConnectBar:function(b){var c=e.createElement("div"),d=e.createElement("div");c.className="fb_connect_bar",d.className="fb_reset fb_connect_bar_container",d.appendChild(c),e.body.appendChild(d),this._container=d,this._initialHeight=Math.round(parseFloat(o.getStyle(d,"height"))+parseFloat(o.getStyle(d,"borderBottomWidth"))),o.html(c,s('<div class="fb_buttons"><a href="#" class="fb_bar_close"><img src="{1}" alt="{2}" title="{2}"/></a></div><a href="{7}" class="fb_profile" target="_blank"><img src="{3}" alt="{4}" title="{4}"/></a>{5} <span><a href="{8}" class="fb_learn_more" target="_blank">{6}</a> &ndash; <a href="#" class="fb_no_thanks">{0}</a></span>',v.tx._("No Thanks"),x.resolve("fbcdn")+"/"+m.imgs.buttonUrl,v.tx._("Close"),b[this._picFieldName]||x.resolve("fbcdn")+"/"+m.imgs.missingProfileUrl,q(b.first_name),v.tx._("Hi {firstName}. <strong>{siteName}</strong> is using Facebook to personalize your experience.",{firstName:q(b.first_name),siteName:q(b.site_name)}),v.tx._("Learn More"),b.profile_url,x.resolve("www")+"/sitetour/connect.php")),j(l(c.getElementsByTagName("a")),"forEach",!0,function(a){a.onclick=j(this._clickHandler,"bind",!0,this)},this),this._page=e.body;var f=0;f=this._page.parentNode?Math.round((parseFloat(o.getStyle(this._page.parentNode,"height"))-parseFloat(o.getStyle(this._page,"height")))/2):parseInt(o.getStyle(this._page,"marginTop"),10),f=isNaN(f)?0:f,this._initTopMargin=f,a.XMLHttpRequest?(d.style.top=-1*this._initialHeight+"px",h.ate(d,{top:"0px"},this._animationSpeed)):d.className+=" fb_connect_bar_container_ie6";var g={marginTop:this._initTopMargin+this._initialHeight+"px"};y.ie()?g.backgroundPositionY=this._initialHeight+"px":g.backgroundPosition="? "+this._initialHeight+"px",h.ate(this._page,g,this._animationSpeed)},_clickHandler:function(b){b=b||a.event;for(var c=b.target||b.srcElement;"A"!=c.nodeName;)c=c.parentNode;switch(c.className){case"fb_bar_close":i({method:"Connect.connectBarMarkAcknowledged"}),u.impression({lid:104,name:"widget_user_closed"}),this._closeConnectBar();break;case"fb_learn_more":case"fb_profile":a.open(c.href);break;case"fb_no_thanks":this._closeConnectBar(),i({method:"Connect.connectBarMarkAcknowledged"}),u.impression({lid:104,name:"widget_user_no_thanks"}),i({method:"auth.revokeAuthorization",block:!0},j(function(){this.fire("connectbar.ondeauth"),r.fire("connectbar.ondeauth",this),t.invokeHandler(this.getAttribute("on-deauth"),this),this._getBoolAttribute("auto-refresh",!0)&&a.location.reload()},"bind",!0,this))}return!1},_closeConnectBar:function(){this._notDisplayed=!0;var a={marginTop:this._initTopMargin+"px"};y.ie()?a.backgroundPositionY="0px":a.backgroundPosition="? 0px";var b=0==this._animationSpeed?0:300;h.ate(this._page,a,b),h.ate(this._container,{top:-1*this._initialHeight+"px"},b,function(a){a.parentNode.removeChild(a)}),this.fire("connectbar.onclose"),r.fire("connectbar.onclose",this),t.invokeHandler(this.getAttribute("on-close"),this)}});g.exports=z}),i("sdk.XFBML.LoginButton",["sdk.Helper","IframePlugin"],function(a,b,c,d,e){var f=b("sdk.Helper"),g=b("IframePlugin"),h=g.extend({constructor:function(a,b,c,d){this.parent(a,b,c,d);var e=g.getVal(d,"on_login");e&&this.subscribe("login.status",function(a){f.invokeHandler(e,null,[a])})},getParams:function(){return{scope:"string",perms:"string",size:"string",login_text:"text",show_faces:"bool",max_rows:"string",show_login_face:"bool",registration_url:"url_maybe",auto_logout_link:"bool",one_click:"bool",show_banner:"bool"}}});e.exports=h}),i("sdk.XFBML.Name",["copyProperties","sdk.Data","escapeHTML","sdk.Event","sdk.XFBML.Element","sdk.Helper","Log","sdk.Runtime"],function(a,b,c,d,e){var f=b("copyProperties"),g=b("sdk.Data"),h=b("escapeHTML"),i=b("sdk.Event"),k=b("sdk.XFBML.Element"),l=b("sdk.Helper"),m=b("Log"),n=b("sdk.Runtime"),o=k.extend({process:function(){if(f(this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",!0),_subjectId:this.getAttribute("subject-id")}),!this._uid)return m.error('"uid" is a required attribute for <fb:name>'),void this.fire("render");var a=[];a.push(this._firstnameonly?"first_name":this._lastnameonly?"last_name":"name"),this._subjectId&&(a.push("sex"),this._subjectId==n.getUserID()&&(this._reflexive=!0));var b;i.monitor("auth.statusChange",j(function(){return this.isValid()?(this._uid&&"loggedinuser"!=this._uid||(this._uid=n.getUserID()),void(this._uid&&(b=l.isUser(this._uid)?g._selectByIndex(a,"user","uid",this._uid):g._selectByIndex(["name","id"],"profile","id",this._uid),b.wait(j(function(a){this._subjectId==this._uid?this._renderPronoun(a[0]):this._renderOther(a[0]),this.fire("render")},"bind",!0,this))))):(this.fire("render"),!0)},"bind",!0,this))},_renderPronoun:function(a){var b="",c=this._objective;if(this._subjectId&&(c=!0,this._subjectId===this._uid&&(this._reflexive=!0)),this._uid==n.getUserID()&&this._getBoolAttribute("use-you",!0))b=this._possessive?this._reflexive?"your own":"your":this._reflexive?"yourself":"you";else switch(a.sex){case"male":b=this._possessive?this._reflexive?"his own":"his":this._reflexive?"himself":c?"him":"he";break;case"female":b=this._possessive?this._reflexive?"her own":"her":this._reflexive?"herself":c?"her":"she";break;default:b=this._getBoolAttribute("use-they",!0)?this._possessive?this._reflexive?"their own":"their":this._reflexive?"themselves":c?"them":"they":this._possessive?this._reflexive?"his/her own":"his/her":this._reflexive?"himself/herself":c?"him/her":"he/she"}this._getBoolAttribute("capitalize",!1)&&(b=l.upperCaseFirstChar(b)),this.dom.innerHTML=b},_renderOther:function(a){var b="",c="";this._uid==n.getUserID()&&this._getBoolAttribute("use-you",!0)?b=this._reflexive?this._possessive?"your own":"yourself":this._possessive?"your":"you":a&&(null===a.first_name&&(a.first_name=""),null===a.last_name&&(a.last_name=""),this._firstnameonly&&void 0!==a.first_name?b=h(a.first_name):this._lastnameonly&&void 0!==a.last_name&&(b=h(a.last_name)),b||(b=h(a.name)),""!==b&&this._possessive&&(b+="'s")),b||(b=h(this.getAttribute("if-cant-see","Facebook User"))),b&&(this._getBoolAttribute("capitalize",!1)&&(b=l.upperCaseFirstChar(b)),c=a&&this._linked?l.getProfileLink(a,b,this.getAttribute("href",null)):b),this.dom.innerHTML=c}});e.exports=o}),i("sdk.XFBML.RecommendationsBar",["sdk.Arbiter","DOMEventListener","sdk.Event","sdk.XFBML.IframeWidget","resolveURI","sdk.Runtime"],function(b,c,d,g,h){var i=c("sdk.Arbiter"),k=c("DOMEventListener"),l=c("sdk.Event"),m=c("sdk.XFBML.IframeWidget"),n=c("resolveURI"),o=c("sdk.Runtime"),p=m.extend({getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function b(a,b){function c(){b(),e=null,d=j("Date","now",!1)}var d=0,e=null;return function(){if(!e){var b=j("Date","now",!1);a>b-d?e=f(c,a-(b-d)):c()}return!0}}function c(a){if(a.match(/^\d+(?:\.\d+)?%$/)){var b=Math.min(Math.max(parseInt(a,10),0),100);a=b/100}else"manual"!=a&&"onvisible"!=a&&(a="onvisible");return a}function d(a){return Math.max(parseInt(a,10)||30,10)}function g(a){return"left"==a||"right"==a?a:o.getRtl()?"left":"right"}this._attr={channel:this.getChannelUrl(),api_key:o.getClientID(),font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:n(this.getAttribute("href")),side:g(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),max_age:this.getAttribute("max_age"),trigger:c(this.getAttribute("trigger","")),read_time:d(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2},this._showLoader=!1,this.subscribe("iframe.onload",j(function(){var a=this.dom.children[0];a.className="fbpluginrecommendationsbar"+this._attr.side},"bind",!0,this));var h=j(function(){return k.remove(a,"scroll",h),k.remove(e.documentElement,"click",h),k.remove(e.documentElement,"mousemove",h),f(j(this.arbiterInform,"bind",!0,this,"platform/plugins/recommendations_bar/action",null,i.BEHAVIOR_STATE),1e3*this._attr.read_time),!0},"bind",!0,this);if(k.add(a,"scroll",h),k.add(e.documentElement,"click",h),k.add(e.documentElement,"mousemove",h),"manual"==this._attr.trigger){var m=j(function(a){return a==this._attr.href&&(l.unsubscribe("xfbml.recommendationsbar.read",m),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,i.BEHAVIOR_STATE)),!0},"bind",!0,this);l.subscribe("xfbml.recommendationsbar.read",m)}else{var p=b(500,j(function(){return this.calculateVisibility()&&(k.remove(a,"scroll",p),k.remove(a,"resize",p),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,i.BEHAVIOR_STATE)),!0},"bind",!0,this));k.add(a,"scroll",p),k.add(a,"resize",p),p()}this.visible=!1;var q=b(500,j(function(){return!this.visible&&this.calculateVisibility()?(this.visible=!0,this.arbiterInform("platform/plugins/recommendations_bar/visible")):this.visible&&!this.calculateVisibility()&&(this.visible=!1,this.arbiterInform("platform/plugins/recommendations_bar/invisible")),!0},"bind",!0,this));k.add(a,"scroll",q),k.add(a,"resize",q),q(),this.focused=!0;var r=j(function(){return this.focused=!this.focused,!0},"bind",!0,this);return k.add(a,"blur",r),k.add(a,"focus",r),this.resize_running=!1,this.animate=!1,this.subscribe("xd.signal_animation",j(function(){this.animate=!0},"bind",!0,this)),!0},getSize:function(){return{height:25,width:"recommend"==this._attr.action?140:96}},calculateVisibility:function(){var b=e.documentElement.clientHeight;if(!this.focused&&a.console&&a.console.firebug)return this.visible;switch(this._attr.trigger){case"manual":return!1;case"onvisible":var c=this.dom.getBoundingClientRect().top;return b>=c;default:var d=a.pageYOffset||e.body.scrollTop,f=e.documentElement.scrollHeight;return(d+b)/f>=this._attr.trigger}}});h.exports=p}),i("sdk.XFBML.Registration",["sdk.Auth","sdk.Helper","sdk.XFBML.IframeWidget","sdk.Runtime","UrlMap"],function(b,c,d,e,f){var g=c("sdk.Auth"),h=c("sdk.Helper"),i=c("sdk.XFBML.IframeWidget"),k=c("sdk.Runtime"),l=c("UrlMap"),m=i.extend({_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){return this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:k.getClientID(),fb_only:this._getBoolAttribute("fb-only",!1),fb_register:this._getBoolAttribute("fb-register",!1),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",a.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")},this._attr.onvalidate&&this.subscribe("xd.validate",j(function(a){var b=j("JSON","parse",!1,a.value),c=j(function(b){this.arbiterInform("Registration.Validation",{errors:b,id:a.id})},"bind",!0,this),d=h.executeFunctionByName(this._attr.onvalidate,b,c);d&&c(d)},"bind",!0,this)),this.subscribe("xd.authLogin",j(this._onAuthLogin,"bind",!0,this)),this.subscribe("xd.authLogout",j(this._onAuthLogout,"bind",!0,this)),!0},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height)return this._attr.height;var a;if(this._attr.fields)try{a=j("JSON","parse",!1,this._attr.fields)}catch(b){a=this._attr.fields.split(/,/)}else a=["name"];return this._attr.width<this._skinnyWidth?this._skinnyBaseHeight+a.length*this._skinnyFieldHeight:this._baseHeight+a.length*this._fieldHeight},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return l.resolve("www",!0)},_onAuthLogin:function(){g.getAuthResponse()||g.getLoginStatus(),h.fireEvent("auth.login",this)},_onAuthLogout:function(){g.getAuthResponse()||g.getLoginStatus(),h.fireEvent("auth.logout",this)}});f.exports=m}),i("sdk.XFBML.SocialContext",["sdk.Event","sdk.XFBML.IframeWidget"],function(a,b,c,d,e){var f=b("sdk.Event"),g=b("sdk.XFBML.IframeWidget"),h=g.extend({setupAndValidate:function(){this.getAttribute("size","small");return this._attr={channel:this.getChannelUrl(),width:this._getPxAttribute("width",400),height:this._getPxAttribute("height",100),ref:this.getAttribute("ref"),size:this.getAttribute("size"),keywords:this.getAttribute("keywords"),urls:this.getAttribute("urls"),object_id:this.getAttribute("object_id")},this.subscribe("xd.social_context_stats",j(this._bubbleSocialContextStats,"bind",!0,this)),!0},_bubbleSocialContextStats:function(a){var b={pluginID:this.getAttribute("plugin-id"),socialContextPageIDs:j("JSON","parse",!1,a.social_context_page_ids)};f.fire("xfbml.social_context_stats",b)},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"social_context",params:this._attr}}});e.exports=h}),i("legacy:fb.xfbml",["Assert","sdk.domReady","sdk.Event","FB","IframePlugin","PluginTags","wrapFunction","XFBML","sdk.XFBML.Comments","sdk.XFBML.CommentsCount","sdk.XFBML.ConnectBar","sdk.XFBML.LoginButton","sdk.XFBML.Name","sdk.XFBML.RecommendationsBar","sdk.XFBML.Registration","sdk.XFBML.SocialContext"],function(b,c){var d=c("Assert"),g=c("sdk.domReady"),h=c("sdk.Event"),i=c("FB"),k=c("IframePlugin"),l=c("PluginTags"),m=c("wrapFunction"),n=c("XFBML"),o={comments:c("sdk.XFBML.Comments"),comments_count:c("sdk.XFBML.CommentsCount"),connect_bar:c("sdk.XFBML.ConnectBar"),login_button:c("sdk.XFBML.LoginButton"),name:c("sdk.XFBML.Name"),recommendations_bar:c("sdk.XFBML.RecommendationsBar"),registration:c("sdk.XFBML.Registration"),social_context:c("sdk.XFBML.SocialContext")};j(j("Object","keys",!1,l),"forEach",!0,function(a){n.registerTag({xmlns:"fb",localName:a.replace(/_/g,"-"),ctor:k.withParams(l[a])})}),j(j("Object","keys",!1,o),"forEach",!0,function(a){n.registerTag({xmlns:"fb",localName:a.replace(/_/g,"-"),ctor:o[a]})}),i.provide("XFBML",{parse:function(a){return d.maybeXfbml(a,"Invalid argument"),a&&9===a.nodeType&&(a=a.body),n.parse.apply(null,arguments)}}),i.provide("XFBML.RecommendationsBar",{markRead:function(b){h.fire("xfbml.recommendationsbar.read",b||a.location.href)}}),n.subscribe("parse",j(h.fire,"bind",!0,h,"xfbml.parse")),n.subscribe("render",j(h.fire,"bind",!0,h,"xfbml.render")),h.subscribe("init:post",function(a){a.xfbml&&f(m(j(g,"bind",!0,null,n.parse),"entry","init:post:xfbml.parse"),0)}),d.define("Xfbml",function(a){return(1===a.nodeType||9===a.nodeType)&&"string"==typeof a.nodeName});try{e.namespaces&&!e.namespaces.item.fb&&e.namespaces.add("fb")}catch(p){}},3)}.call({},window.inDapIF?parent.window:window)}catch(e){(new Image).src="https://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","message":"'+e.message+'"}}')}